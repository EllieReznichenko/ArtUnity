{"version":3,"file":"index.js","sources":["../src/js/artists-api.js","../src/js/artists.js","../src/js/about-artist-modal.js","../src/img/feedback/star-filled.png","../src/img/feedback/star-empty.png","../src/js/feedback.js","../src/js/mob-menu.js"],"sourcesContent":["\r\n\r\nexport const API_BASE = 'https://sound-wave.b.goit.study/api';\r\n\r\nexport let currentPage = 1;\r\nexport const limit = 8;\r\n\r\nexport function showToast(message) {\r\n  alert(message);\r\n}\r\n\r\nexport async function fetchArtists(page = 1, limit = 8) {\r\n  const res = await fetch(`${API_BASE}/artists?page=${page}&limit=${limit}`);\r\n  if (!res.ok) throw new Error('Не вдалося завантажити артистів');\r\n  return await res.json();\r\n}\r\n\r\nexport async function fetchArtistById(id) {\r\n  const res = await fetch(`${API_BASE}/artists/${id}`);\r\n  if (!res.ok) throw new Error('Не вдалося завантажити деталі артиста');\r\n  return await res.json();\r\n}\r\n\r\nexport async function renderArtists() {\r\n  showLoader();\r\n  // Показуємо індикатор завантаження\r\n\r\n  try {\r\n    const data = await fetchArtists(currentPage, limit);\r\n    // Чекаємо відповіді від API, отримуємо дані артистів\r\n\r\n    const cardsMarkup = data.artists.map(createCard).join('');\r\n    // Для кожного артиста викликаємо createCard, отримуємо масив рядків HTML, об'єднуємо у єдиний рядок\r\n\r\n    container.insertAdjacentHTML('beforeend', cardsMarkup);\r\n    // Вставляємо нові картки в кінець контейнера\r\n\r\n    if (currentPage * limit >= data.total) {\r\n      loadMoreBtn.style.display = 'none';\r\n      // Якщо завантажили всі артисти (поточна сторінка * ліміт >= загальна кількість), ховаємо кнопку \"Load More\"\r\n    }\r\n  } catch (error) {\r\n    console.error(error);\r\n    showToast('⚠️ Помилка завантаження артистів. Спробуйте пізніше.');\r\n    // У разі помилки показуємо повідомлення\r\n  } finally {\r\n    hideLoader();\r\n    // При будь-якому результаті — ховаємо індикатор завантаження\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nexport const FEEDBACK_API = 'https://sound-wave.b.goit.study/api/feedbacks';\r\n\r\nexport async function fetchFeedbacks() {\r\n  try {\r\n    const res = await fetch(FEEDBACK_API);\r\n    if (!res.ok) throw new Error('Failed to load feedbacks');\r\n    const data = await res.json();\r\n    return data.data;\r\n  } catch (error) {\r\n    console.error(error);\r\n    return [];\r\n  }\r\n}\r\n\r\nexport async function fetchArtistsAlbumsById(artistId) {\r\n  const res = await fetch(`${API_BASE}/artists/${artistId}/albums`);\r\n  if (!res.ok) throw new Error('Не вдалося завантажити альбоми артиста');\r\n  return await res.json();\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import {\n  fetchArtists,\n  limit,\n  showToast,\n} from './artists-api.js';\n\nconst refs = {\n  artistCardsContainer: document.querySelector('#artists-grid'),\n  loadMoreBtn: document.getElementById('load-more-btn'),\n};\n\n\nfunction createArtistCard({ _id, strArtist, genres, strArtistThumb, strBiographyEN }) {\n  const genreTags = (genres || []).map(genre => `<span class=\"genre\">${genre}</span>`).join('');\n  const shortBio = strBiographyEN?.length > 100 ? strBiographyEN.slice(0, 100) + '...' : (strBiographyEN || '');\n\n  const imgSrc = strArtistThumb && typeof strArtistThumb === 'string' && strArtistThumb.trim() !== ''\n    ? strArtistThumb\n    : '/img/artists/Placeholder_Image.jpg';\n\n\n  return `\n    <li class=\"artist-card\" data-id=\"${_id}\">\n      <img src=\"${imgSrc}\" alt=\"${strArtist}\" />\n      <div class=\"genres\">${genreTags}</div>\n      <h3 class=\"artist-name\">${strArtist}</h3>\n      <p class=\"description\">${shortBio}</p>\n      <button class=\"learn-more\" data-id=\"${_id}\">\n        Learn More\n        <svg class=\"icon\" width=\"24\" height=\"24\">\n          <use href=\"/img/sprite.svg#icon-caret-right-learn-more\"></use>\n        </svg>\n      </button>\n    </li>\n  `;\n}\n\n\nlet page = 1;\n\nasync function renderArtistsChunk() {\n  try {\n    const data = await fetchArtists(page, limit);\n\n    if (!data.artists || !Array.isArray(data.artists)) {\n      throw new Error('Немає артистів у відповіді');\n    }\n\n    const markup = data.artists.map(createArtistCard).join('');\n    refs.artistCardsContainer.insertAdjacentHTML('beforeend', markup);\n\n    if (page * limit >= data.total) {\n      refs.loadMoreBtn.style.display = 'none';\n    } else {\n      refs.loadMoreBtn.style.display = 'block';\n    }\n\n    page++;\n  } catch (error) {\n    console.error(error);\n    showToast('Помилка завантаження артистів');\n    refs.loadMoreBtn.style.display = 'none';\n  }\n}\n\nrefs.loadMoreBtn.addEventListener('click', renderArtistsChunk);\n\n// Початкове завантаження артистів\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderArtistsChunk();\n\n});\n","import axios from 'axios';\n\nconst modal = document.querySelector('.modal');\nconst modalContent = modal.querySelector('.modal-content');\nconst loader = document.querySelector('.loader');\nif (!loader) {\n  console.warn('Loader element not found in DOM!');\n}\n\nlet youtubeListeners = [];\n\nfunction openModal() {\n  modal.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  document.body.style.overflow = '';\n  modalContent.innerHTML = '';\n  removeYoutubeListeners();\n}\n\nfunction removeYoutubeListeners() {\n  youtubeListeners.forEach(({ element, handler }) => {\n    element.removeEventListener('click', handler);\n  });\n  youtubeListeners = [];\n}\n\nfunction addYoutubeListeners() {\n  const buttons = modalContent.querySelectorAll('.youtube-btn');\n  buttons.forEach(button => {\n    const handler = () => {\n      const url = button.dataset.youtube;\n      if (url) window.open(url, '_blank');\n    };\n    button.addEventListener('click', handler);\n    youtubeListeners.push({ element: button, handler });\n  });\n}\n\nfunction renderArtistModal(artist) {\n  const yearsInfo = artist.yearFormed\n    ? artist.yearDisbanded\n      ? `${artist.yearFormed} - ${artist.yearDisbanded}`\n      : `${artist.yearFormed} - present`\n    : 'information missing';\n\n  const gender = artist.gender || 'information missing';\n  const membersCount = artist.membersCount || 'information missing';\n  const country = artist.country || 'information missing';\n  const biography = artist.biography || 'information missing';\n  // genres: завжди масив, навіть якщо приходить рядком або undefined\n  let genresArr = [];\n  if (Array.isArray(artist.genres)) {\n    genresArr = artist.genres.filter(Boolean);\n  } else if (typeof artist.genres === 'string') {\n    genresArr = artist.genres\n      .split(',')\n      .map(g => g.trim())\n      .filter(Boolean);\n  }\n  const genres = genresArr.length\n    ? genresArr.map(g => `<span class=\"genre\">${g}</span>`).join(' ')\n    : 'information missing';\n  const imageUrl = artist.imageUrl || '';\n\n  const albumsHtml = artist.albums?.length\n    ? `<div class=\"albums-grid\">${artist.albums\n        .map(album => {\n          const tracksHeader = `\n            <tr>\n              <th>Track</th>\n              <th>Time</th>\n              <th>Link</th>\n            </tr>`;\n          const tracksRows = album.tracks\n            .map(track => {\n              const youtubeLink = track.youtubeUrl\n                ? `<a href=\"${track.youtubeUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">YouTube</a>`\n                : '';\n              return `\n                <tr>\n                  <td>${track.title}</td>\n                  <td>${track.duration}</td>\n                  <td>${youtubeLink}</td>\n                </tr>`;\n            })\n            .join('');\n          return `\n            <div class=\"album\">\n              <h3>${album.title}</h3>\n              <table>\n                <thead>${tracksHeader}</thead>\n                <tbody>${tracksRows}</tbody>\n              </table>\n            </div>`;\n        })\n        .join('')}</div>`\n    : '<p>Albums information missing</p>';\n\n  modalContent.innerHTML = `\n    <div class=\"modal-header\">\n      <h2 class=\"artist-mod-title\">${artist.name}</h2>\n      <button class=\"button-close\" aria-label=\"Close\">\n        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d=\"M18 6L6 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n          <path d=\"M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        </svg>\n      </button>\n    </div>\n    <div class=\"artist-main-info\">\n      <img class=\"artist-image\" src=\"${imageUrl}\" alt=\"${artist.name}\">\n      <div class=\"artist-info\">\n        <p><strong>Years active</strong> ${yearsInfo}</p>\n        <p><strong>Sex</strong> ${gender}</p>\n        <p><strong>Members</strong> ${membersCount}</p>\n        <p><strong>Country</strong> ${country}</p>\n        <p class=\"biography\"><strong>Biography</strong> ${biography}</p>\n        <div class=\"genres\">\n          <strong>Genres</strong> ${genres}\n        </div>\n      </div>\n    </div>\n    <div class=\"albums\">\n      <h3>Albums</h3>\n      ${albumsHtml}\n    </div>`;\n\n  modalContent\n    .querySelector('.button-close')\n    .addEventListener('click', closeModal);\n\n  addYoutubeListeners();\n}\n\nasync function fetchArtistAndOpenModal(id) {\n  try {\n    loader.style.display = 'block';\n    modalContent.innerHTML = '';\n    openModal();\n\n    // Викликаємо API для артиста\n    const response = await axios.get(\n      `https://sound-wave.b.goit.study/api/artists/${id}`\n    );\n    const artistRaw = response.data;\n    console.log(\n      'MODAL artistRaw:',\n      artistRaw,\n      'id:',\n      artistRaw._id,\n      'name:',\n      artistRaw.strArtist || artistRaw.name\n    );\n    console.log(\n      'MODAL artistRaw.genres:',\n      artistRaw.genres,\n      'typeof:',\n      typeof artistRaw.genres\n    );\n    // Формуємо genres для artist: якщо genres є масивом або рядком, беремо його, інакше пробуємо з artistRaw.genres\n    let genres = artistRaw.genres;\n    if (!genres && typeof artistRaw.genres !== 'undefined') {\n      genres = artistRaw.genres;\n    }\n    console.log(\n      'MODAL genres for artist:',\n      genres,\n      'typeof:',\n      typeof genres,\n      'id:',\n      artistRaw._id,\n      'name:',\n      artistRaw.strArtist || artistRaw.name\n    );\n    // Якщо genres undefined, не чіпаємо (renderArtistModal покаже 'information missing')\n    const artist = {\n      name: artistRaw.strArtist || artistRaw.name || 'No name',\n      imageUrl: artistRaw.strArtistThumb || artistRaw.image || '',\n      yearFormed: artistRaw.intFormedYear || artistRaw.yearFormed || '',\n      yearDisbanded:\n        artistRaw.intDiedYear && artistRaw.intDiedYear !== 'null'\n          ? artistRaw.intDiedYear\n          : '',\n      gender: artistRaw.strGender || artistRaw.gender || '',\n      membersCount: artistRaw.intMembers || artistRaw.membersCount || '',\n      country: artistRaw.strCountry || artistRaw.country || '',\n      biography: artistRaw.strBiographyEN || artistRaw.bio || '',\n      genres: genres,\n      albums: [],\n    };\n    console.log(\n      'MODAL artist.genres before modal:',\n      artist.genres,\n      'typeof:',\n      typeof artist.genres,\n      'id:',\n      artistRaw._id,\n      'name:',\n      artistRaw.strArtist || artistRaw.name\n    );\n\n    // Якщо є albumsList, беремо його, інакше allAlbums\n    let albumsArray = [];\n    if (artistRaw.albumsList && Array.isArray(artistRaw.albumsList)) {\n      albumsArray = artistRaw.albumsList;\n    } else {\n      // Якщо API повертає allAlbums як масив або об'єкт\n      const albumsRes = await axios.get(\n        `https://sound-wave.b.goit.study/api/artists/${id}/albums`\n      );\n      const allAlbums = albumsRes.data;\n      console.log('allAlbums:', allAlbums); // Діагностика альбомів\n      if (Array.isArray(allAlbums)) {\n        albumsArray = allAlbums;\n      } else if (allAlbums && Array.isArray(allAlbums.albums)) {\n        albumsArray = allAlbums.albums;\n      } else if (allAlbums && Array.isArray(allAlbums.albumsList)) {\n        albumsArray = allAlbums.albumsList;\n      } else if (allAlbums && Array.isArray(allAlbums.results)) {\n        albumsArray = allAlbums.results;\n      } else {\n        // fallback: якщо структура інша, покажемо її у консолі\n        console.warn('Unknown albums structure:', allAlbums);\n        albumsArray = [];\n      }\n    }\n\n    // Мапінг альбомів під ваш формат\n    console.log('albumsArray:', albumsArray); // Діагностика\n    artist.albums = albumsArray.map(album => ({\n      title: album.strAlbum || album.title || 'No title',\n      tracks: Array.isArray(album.tracks)\n        ? album.tracks.map(track => ({\n            title: track.strTrack || track.title || 'No title',\n            duration: track.intDuration\n              ? Math.floor(track.intDuration / 60000) +\n                ':' +\n                String(Math.floor((track.intDuration % 60000) / 1000)).padStart(\n                  2,\n                  '0'\n                )\n              : '',\n            youtubeUrl:\n              track.movie && track.movie !== 'null' ? track.movie : '',\n          }))\n        : [],\n    }));\n\n    renderArtistModal(artist);\n  } catch (error) {\n    modalContent.innerHTML = '<p>Помилка завантаження даних</p>';\n    console.error(error);\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n\n// Замість .artist-list шукаємо .artists-grid (основний список артистів)\nconst artistList = document.querySelector('.artists-grid');\nif (artistList) {\n  artistList.addEventListener('click', e => {\n    const btn = e.target.closest('.learn-more');\n    if (!btn) return;\n    const card = btn.closest('.artist-card');\n    if (!card) return;\n    const artistId = card.dataset.id;\n    fetchArtistAndOpenModal(artistId);\n  });\n}\n\nmodal.addEventListener('click', e => {\n  if (e.target === modal) closeModal();\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC\"","import starFilled from '/img/feedback//star-filled.png';\nimport starEmpty from '/img/feedback/star-empty.png';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport Raty from 'raty-js';\n\nimport { fetchFeedbacks } from './artists-api';\n\nfunction roundRating(rating) {\n  return Math.round(rating);\n}\n\n// Обробка відгуків\nfunction processFeedbacks(rawFeedbacks) {\n  return rawFeedbacks.map(fb => ({\n    ...fb,\n    roundedRating: roundRating(fb.rating),\n  }));\n}\n\nconsole.log(roundRating);\n\n// Отримання випадкових відгуків\n\nconst getRandomFeedbacks = async (count = 3) => {\n  try {\n    const all = await fetchFeedbacks();\n\n    const random = [];\n    const used = new Set();\n\n    while (random.length < count && used.size < all.length) {\n      const i = Math.floor(Math.random() * all.length);\n      if (!used.has(i)) {\n        used.add(i);\n        random.push(all[i]);\n      }\n    }\n\n    return random;\n  } catch (error) {\n    console.error('Не вдалося отримати відгуки:', error);\n    return [];\n  }\n};\n\n// Основна логіка\ndocument.addEventListener('DOMContentLoaded', () => {\n  (async () => {\n    try {\n      const rawFeedbacks = await getRandomFeedbacks(3);\n      const feedbacks = processFeedbacks(rawFeedbacks);\n\n      const wrapper = document.querySelector('.swiper-wrapper');\n      wrapper.innerHTML = '';\n\n      feedbacks.forEach((fb, index) => {\n        const { name, descr, roundedRating } = fb;\n\n        const slide = document.createElement('div');\n        slide.className = 'swiper-slide';\n        slide.innerHTML = `\n          <div class=\"feedback-card\">\n            <div class=\"rating\" data-score=\"${roundedRating}\"></div>\n            <p class=\"feedback_description\">${descr}</p>\n            <h3 class=\"feedback_name\">${name}</h3>\n          </div>\n        `;\n        wrapper.appendChild(slide);\n      });\n\n      // Ініціалізація Swiper\n      new Swiper('.swiper', {\n        direction: 'horizontal',\n        loop: false,\n        modules: [Navigation, Pagination],\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n        simulateTouch: true,\n        grabCursor: true,\n        keyboard: {\n          enabled: true,\n          pageUpDown: true,\n          onlyInViewport: true,\n        },\n        mousewheel: {\n          eventsTarget: '.swiper',\n        },\n      });\n\n      // Ініціалізація Raty для кожного відгуку\n      const ratingEls = document.querySelectorAll('.rating');\n      ratingEls.forEach(el => {\n        const score = parseInt(el.dataset.score, 10);\n        const raty = new Raty(el, {\n          starOn: starFilled,\n          starOff: starEmpty,\n          score: score,\n          readOnly: true,\n        });\n        raty.init();\n      });\n    } catch (error) {\n      console.error('Помилка під час обробки відгуків:', error);\n    }\n  })();\n});\n","const burgerBtn = document.querySelector('[data-header-open]');\nconst mobileMenu = document.querySelector('[data-menu]');\nconst mobileCloseBtn = document.querySelector('[data-menu-close]');\nconst menuLinks = document.querySelectorAll('.mob-nav-link');\n\nburgerBtn.addEventListener('click', toggleMobileMenu);\nmobileCloseBtn.addEventListener('click', toggleMobileMenu);\n\nfunction toggleMobileMenu() {\n  mobileMenu.classList.toggle('is-open');\n}\n\n// -------------закриття через клавішу Esc--------------\ndocument.addEventListener('keydown', closeMobileMenu);\nfunction closeMobileMenu(e) {\n  if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n    mobileMenu.classList.remove('is-open');\n  }\n}\n//------ Закрытие меню и плавный скролл по клику на ссылку ---------\nmenuLinks.forEach(link => {\n  link.addEventListener('click', event => {\n    event.preventDefault();\n\n    const targetId = link.getAttribute('href').substring(1);\n    const targetSection = document.getElementById(targetId);\n\n    if (targetSection) {\n      mobileMenu.classList.remove('is-open');\n      document.body.style.overflow = '';\n      targetSection.scrollIntoView({ behavior: 'smooth' });\n    }\n  });\n});\n"],"names":["API_BASE","limit","showToast","message","fetchArtists","page","res","FEEDBACK_API","fetchFeedbacks","error","refs","createArtistCard","_id","strArtist","genres","strArtistThumb","strBiographyEN","genreTags","genre","shortBio","imgSrc","renderArtistsChunk","data","markup","modal","modalContent","loader","youtubeListeners","openModal","closeModal","removeYoutubeListeners","element","handler","addYoutubeListeners","button","url","renderArtistModal","artist","yearsInfo","gender","membersCount","country","biography","genresArr","g","imageUrl","albumsHtml","_a","album","tracksHeader","tracksRows","track","youtubeLink","fetchArtistAndOpenModal","id","artistRaw","axios","albumsArray","allAlbums","artistList","btn","card","artistId","starFilled","starEmpty","roundRating","rating","processFeedbacks","rawFeedbacks","fb","getRandomFeedbacks","count","all","random","used","i","feedbacks","wrapper","index","name","descr","roundedRating","slide","Swiper","Navigation","Pagination","el","score","Raty","burgerBtn","mobileMenu","mobileCloseBtn","menuLinks","toggleMobileMenu","closeMobileMenu","link","event","targetId","targetSection"],"mappings":"kxBAEO,MAAMA,EAAW,sCAGXC,EAAQ,EAEd,SAASC,EAAUC,EAAS,CACjC,MAAMA,CAAO,CACf,CAEO,eAAeC,EAAaC,EAAO,EAAGJ,EAAQ,EAAG,CACtD,MAAMK,EAAM,MAAM,MAAM,GAAGN,CAAQ,iBAAiBK,CAAI,UAAUJ,CAAK,EAAE,EACzE,GAAI,CAACK,EAAI,GAAI,MAAM,IAAI,MAAM,iCAAiC,EAC9D,OAAO,MAAMA,EAAI,MACnB,CAuCO,MAAMC,EAAe,gDAErB,eAAeC,GAAiB,CACrC,GAAI,CACF,MAAMF,EAAM,MAAM,MAAMC,CAAY,EACpC,GAAI,CAACD,EAAI,GAAI,MAAM,IAAI,MAAM,0BAA0B,EAEvD,OADa,MAAMA,EAAI,QACX,IACb,OAAQG,EAAO,CACd,eAAQ,MAAMA,CAAK,EACZ,EACR,CACH,CC5DA,MAAMC,EAAO,CACX,qBAAsB,SAAS,cAAc,eAAe,EAC5D,YAAa,SAAS,eAAe,eAAe,CACtD,EAGA,SAASC,EAAiB,CAAE,IAAAC,EAAK,UAAAC,EAAW,OAAAC,EAAQ,eAAAC,EAAgB,eAAAC,GAAkB,CACpF,MAAMC,GAAaH,GAAU,CAAE,GAAE,IAAII,GAAS,uBAAuBA,CAAK,SAAS,EAAE,KAAK,EAAE,EACtFC,GAAWH,GAAA,YAAAA,EAAgB,QAAS,IAAMA,EAAe,MAAM,EAAG,GAAG,EAAI,MAASA,GAAkB,GAEpGI,EAASL,GAAkB,OAAOA,GAAmB,UAAYA,EAAe,KAAI,IAAO,GAC7FA,EACA,qCAGJ,MAAO;AAAA,uCAC8BH,CAAG;AAAA,kBACxBQ,CAAM,UAAUP,CAAS;AAAA,4BACfI,CAAS;AAAA,gCACLJ,CAAS;AAAA,+BACVM,CAAQ;AAAA,4CACKP,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAQ/C,CAGA,IAAIP,EAAO,EAEX,eAAegB,GAAqB,CAClC,GAAI,CACF,MAAMC,EAAO,MAAMlB,EAAaC,EAAMJ,CAAK,EAE3C,GAAI,CAACqB,EAAK,SAAW,CAAC,MAAM,QAAQA,EAAK,OAAO,EAC9C,MAAM,IAAI,MAAM,4BAA4B,EAG9C,MAAMC,EAASD,EAAK,QAAQ,IAAIX,CAAgB,EAAE,KAAK,EAAE,EACzDD,EAAK,qBAAqB,mBAAmB,YAAaa,CAAM,EAE5DlB,EAAOJ,GAASqB,EAAK,MACvBZ,EAAK,YAAY,MAAM,QAAU,OAEjCA,EAAK,YAAY,MAAM,QAAU,QAGnCL,GACD,OAAQI,EAAO,CACd,QAAQ,MAAMA,CAAK,EACnBP,EAAU,+BAA+B,EACzCQ,EAAK,YAAY,MAAM,QAAU,MAClC,CACH,CAEAA,EAAK,YAAY,iBAAiB,QAASW,CAAkB,EAG7D,SAAS,iBAAiB,mBAAoB,IAAM,CAClDA,GAEF,CAAC,ECrED,MAAMG,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAeD,EAAM,cAAc,gBAAgB,EACnDE,EAAS,SAAS,cAAc,SAAS,EAC1CA,GACH,QAAQ,KAAK,kCAAkC,EAGjD,IAAIC,EAAmB,CAAA,EAEvB,SAASC,GAAY,CACnBJ,EAAM,UAAU,IAAI,SAAS,EAC7B,SAAS,KAAK,MAAM,SAAW,QACjC,CAEA,SAASK,GAAa,CACpBL,EAAM,UAAU,OAAO,SAAS,EAChC,SAAS,KAAK,MAAM,SAAW,GAC/BC,EAAa,UAAY,GACzBK,GACF,CAEA,SAASA,GAAyB,CAChCH,EAAiB,QAAQ,CAAC,CAAE,QAAAI,EAAS,QAAAC,CAAO,IAAO,CACjDD,EAAQ,oBAAoB,QAASC,CAAO,CAChD,CAAG,EACDL,EAAmB,CAAA,CACrB,CAEA,SAASM,GAAsB,CACbR,EAAa,iBAAiB,cAAc,EACpD,QAAQS,GAAU,CACxB,MAAMF,EAAU,IAAM,CACpB,MAAMG,EAAMD,EAAO,QAAQ,QACvBC,GAAK,OAAO,KAAKA,EAAK,QAAQ,CACxC,EACID,EAAO,iBAAiB,QAASF,CAAO,EACxCL,EAAiB,KAAK,CAAE,QAASO,EAAQ,QAAAF,CAAS,CAAA,CACtD,CAAG,CACH,CAEA,SAASI,EAAkBC,EAAQ,OACjC,MAAMC,EAAYD,EAAO,WACrBA,EAAO,cACL,GAAGA,EAAO,UAAU,MAAMA,EAAO,aAAa,GAC9C,GAAGA,EAAO,UAAU,aACtB,sBAEEE,EAASF,EAAO,QAAU,sBAC1BG,EAAeH,EAAO,cAAgB,sBACtCI,EAAUJ,EAAO,SAAW,sBAC5BK,EAAYL,EAAO,WAAa,sBAEtC,IAAIM,EAAY,CAAA,EACZ,MAAM,QAAQN,EAAO,MAAM,EAC7BM,EAAYN,EAAO,OAAO,OAAO,OAAO,EAC/B,OAAOA,EAAO,QAAW,WAClCM,EAAYN,EAAO,OAChB,MAAM,GAAG,EACT,IAAIO,GAAKA,EAAE,MAAM,EACjB,OAAO,OAAO,GAEnB,MAAM9B,EAAS6B,EAAU,OACrBA,EAAU,IAAIC,GAAK,uBAAuBA,CAAC,SAAS,EAAE,KAAK,GAAG,EAC9D,sBACEC,EAAWR,EAAO,UAAY,GAE9BS,GAAaC,EAAAV,EAAO,SAAP,MAAAU,EAAe,OAC9B,4BAA4BV,EAAO,OAChC,IAAIW,GAAS,CACZ,MAAMC,EAAe;AAAA;AAAA;AAAA;AAAA;AAAA,mBAMfC,EAAaF,EAAM,OACtB,IAAIG,GAAS,CACZ,MAAMC,EAAcD,EAAM,WACtB,YAAYA,EAAM,UAAU,0DAC5B,GACJ,MAAO;AAAA;AAAA,wBAEGA,EAAM,KAAK;AAAA,wBACXA,EAAM,QAAQ;AAAA,wBACdC,CAAW;AAAA,sBAEnC,CAAa,EACA,KAAK,EAAE,EACV,MAAO;AAAA;AAAA,oBAEGJ,EAAM,KAAK;AAAA;AAAA,yBAENC,CAAY;AAAA,yBACZC,CAAU;AAAA;AAAA,mBAGnC,CAAS,EACA,KAAK,EAAE,CAAC,SACX,oCAEJzB,EAAa,UAAY;AAAA;AAAA,qCAEUY,EAAO,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCASTQ,CAAQ,UAAUR,EAAO,IAAI;AAAA;AAAA,2CAEzBC,CAAS;AAAA,kCAClBC,CAAM;AAAA,sCACFC,CAAY;AAAA,sCACZC,CAAO;AAAA,0DACaC,CAAS;AAAA;AAAA,oCAE/B5B,CAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMlCgC,CAAU;AAAA,YAGhBrB,EACG,cAAc,eAAe,EAC7B,iBAAiB,QAASI,CAAU,EAEvCI,GACF,CAEA,eAAeoB,EAAwBC,EAAI,CACzC,GAAI,CACF5B,EAAO,MAAM,QAAU,QACvBD,EAAa,UAAY,GACzBG,IAMA,MAAM2B,GAHW,MAAMC,EAAM,IAC3B,+CAA+CF,CAAE,EACvD,GAC+B,KAC3B,QAAQ,IACN,mBACAC,EACA,MACAA,EAAU,IACV,QACAA,EAAU,WAAaA,EAAU,IACvC,EACI,QAAQ,IACN,0BACAA,EAAU,OACV,UACA,OAAOA,EAAU,MACvB,EAEI,IAAIzC,EAASyC,EAAU,OACnB,CAACzC,GAAU,OAAOyC,EAAU,OAAW,MACzCzC,EAASyC,EAAU,QAErB,QAAQ,IACN,2BACAzC,EACA,UACA,OAAOA,EACP,MACAyC,EAAU,IACV,QACAA,EAAU,WAAaA,EAAU,IACvC,EAEI,MAAMlB,EAAS,CACb,KAAMkB,EAAU,WAAaA,EAAU,MAAQ,UAC/C,SAAUA,EAAU,gBAAkBA,EAAU,OAAS,GACzD,WAAYA,EAAU,eAAiBA,EAAU,YAAc,GAC/D,cACEA,EAAU,aAAeA,EAAU,cAAgB,OAC/CA,EAAU,YACV,GACN,OAAQA,EAAU,WAAaA,EAAU,QAAU,GACnD,aAAcA,EAAU,YAAcA,EAAU,cAAgB,GAChE,QAASA,EAAU,YAAcA,EAAU,SAAW,GACtD,UAAWA,EAAU,gBAAkBA,EAAU,KAAO,GACxD,OAAQzC,EACR,OAAQ,CAAE,CAChB,EACI,QAAQ,IACN,oCACAuB,EAAO,OACP,UACA,OAAOA,EAAO,OACd,MACAkB,EAAU,IACV,QACAA,EAAU,WAAaA,EAAU,IACvC,EAGI,IAAIE,EAAc,CAAA,EAClB,GAAIF,EAAU,YAAc,MAAM,QAAQA,EAAU,UAAU,EAC5DE,EAAcF,EAAU,eACnB,CAKL,MAAMG,GAHY,MAAMF,EAAM,IAC5B,+CAA+CF,CAAE,SACzD,GACkC,KAC5B,QAAQ,IAAI,aAAcI,CAAS,EAC/B,MAAM,QAAQA,CAAS,EACzBD,EAAcC,EACLA,GAAa,MAAM,QAAQA,EAAU,MAAM,EACpDD,EAAcC,EAAU,OACfA,GAAa,MAAM,QAAQA,EAAU,UAAU,EACxDD,EAAcC,EAAU,WACfA,GAAa,MAAM,QAAQA,EAAU,OAAO,EACrDD,EAAcC,EAAU,SAGxB,QAAQ,KAAK,4BAA6BA,CAAS,EACnDD,EAAc,CAAA,EAEjB,CAGD,QAAQ,IAAI,eAAgBA,CAAW,EACvCpB,EAAO,OAASoB,EAAY,IAAIT,IAAU,CACxC,MAAOA,EAAM,UAAYA,EAAM,OAAS,WACxC,OAAQ,MAAM,QAAQA,EAAM,MAAM,EAC9BA,EAAM,OAAO,IAAIG,IAAU,CACzB,MAAOA,EAAM,UAAYA,EAAM,OAAS,WACxC,SAAUA,EAAM,YACZ,KAAK,MAAMA,EAAM,YAAc,GAAK,EACpC,IACA,OAAO,KAAK,MAAOA,EAAM,YAAc,IAAS,GAAI,CAAC,EAAE,SACrD,EACA,GACD,EACD,GACJ,WACEA,EAAM,OAASA,EAAM,QAAU,OAASA,EAAM,MAAQ,EACpE,EAAY,EACF,CAAE,CACP,EAAC,EAEFf,EAAkBC,CAAM,CACzB,OAAQ5B,EAAO,CACdgB,EAAa,UAAY,oCACzB,QAAQ,MAAMhB,CAAK,CACvB,QAAY,CACRiB,EAAO,MAAM,QAAU,MACxB,CACH,CAGA,MAAMiC,EAAa,SAAS,cAAc,eAAe,EACrDA,GACFA,EAAW,iBAAiB,QAAS,GAAK,CACxC,MAAMC,EAAM,EAAE,OAAO,QAAQ,aAAa,EAC1C,GAAI,CAACA,EAAK,OACV,MAAMC,EAAOD,EAAI,QAAQ,cAAc,EACvC,GAAI,CAACC,EAAM,OACX,MAAMC,EAAWD,EAAK,QAAQ,GAC9BR,EAAwBS,CAAQ,CACpC,CAAG,EAGHtC,EAAM,iBAAiB,QAAS,GAAK,CAC/B,EAAE,SAAWA,GAAOK,EAAU,CACpC,CAAC,EAED,OAAO,iBAAiB,UAAW,GAAK,CAClC,EAAE,MAAQ,UAAUA,EAAU,CACpC,CAAC,ECvRD,MAAekC,EAAA,6rBCAAC,EAAA,qeCaf,SAASC,EAAYC,EAAQ,CAC3B,OAAO,KAAK,MAAMA,CAAM,CAC1B,CAGA,SAASC,EAAiBC,EAAc,CACtC,OAAOA,EAAa,IAAIC,IAAO,CAC7B,GAAGA,EACH,cAAeJ,EAAYI,EAAG,MAAM,CACrC,EAAC,CACJ,CAEA,QAAQ,IAAIJ,CAAW,EAIvB,MAAMK,EAAqB,MAAOC,EAAQ,IAAM,CAC9C,GAAI,CACF,MAAMC,EAAM,MAAMhE,IAEZiE,EAAS,CAAA,EACTC,EAAO,IAAI,IAEjB,KAAOD,EAAO,OAASF,GAASG,EAAK,KAAOF,EAAI,QAAQ,CACtD,MAAMG,EAAI,KAAK,MAAM,KAAK,SAAWH,EAAI,MAAM,EAC1CE,EAAK,IAAIC,CAAC,IACbD,EAAK,IAAIC,CAAC,EACVF,EAAO,KAAKD,EAAIG,CAAC,CAAC,EAErB,CAED,OAAOF,CACR,OAAQhE,EAAO,CACd,eAAQ,MAAM,+BAAgCA,CAAK,EAC5C,EACR,CACH,EAGA,SAAS,iBAAiB,mBAAoB,IAAM,EACjD,SAAY,CACX,GAAI,CACF,MAAM2D,EAAe,MAAME,EAAmB,CAAC,EACzCM,EAAYT,EAAiBC,CAAY,EAEzCS,EAAU,SAAS,cAAc,iBAAiB,EACxDA,EAAQ,UAAY,GAEpBD,EAAU,QAAQ,CAACP,EAAIS,IAAU,CAC/B,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,cAAAC,CAAa,EAAKZ,EAEjCa,EAAQ,SAAS,cAAc,KAAK,EAC1CA,EAAM,UAAY,eAClBA,EAAM,UAAY;AAAA;AAAA,8CAEoBD,CAAa;AAAA,8CACbD,CAAK;AAAA,wCACXD,CAAI;AAAA;AAAA,UAGpCF,EAAQ,YAAYK,CAAK,CACjC,CAAO,EAGD,IAAIC,EAAO,UAAW,CACpB,UAAW,aACX,KAAM,GACN,QAAS,CAACC,EAAYC,CAAU,EAChC,WAAY,CACV,GAAI,qBACJ,UAAW,EACZ,EACD,WAAY,CACV,OAAQ,sBACR,OAAQ,qBACT,EACD,cAAe,GACf,WAAY,GACZ,SAAU,CACR,QAAS,GACT,WAAY,GACZ,eAAgB,EACjB,EACD,WAAY,CACV,aAAc,SACf,CACT,CAAO,EAGiB,SAAS,iBAAiB,SAAS,EAC3C,QAAQC,GAAM,CACtB,MAAMC,EAAQ,SAASD,EAAG,QAAQ,MAAO,EAAE,EAC9B,IAAIE,EAAKF,EAAI,CACxB,OAAQvB,EACR,QAASC,EACT,MAAOuB,EACP,SAAU,EACpB,CAAS,EACI,KAAI,CACjB,CAAO,CACF,OAAQ9E,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,CACzD,CACL,IACA,CAAC,ECrHD,MAAMgF,EAAY,SAAS,cAAc,oBAAoB,EACvDC,EAAa,SAAS,cAAc,aAAa,EACjDC,EAAiB,SAAS,cAAc,mBAAmB,EAC3DC,EAAY,SAAS,iBAAiB,eAAe,EAE3DH,EAAU,iBAAiB,QAASI,CAAgB,EACpDF,EAAe,iBAAiB,QAASE,CAAgB,EAEzD,SAASA,GAAmB,CAC1BH,EAAW,UAAU,OAAO,SAAS,CACvC,CAGA,SAAS,iBAAiB,UAAWI,CAAe,EACpD,SAASA,EAAgB,EAAG,CACtB,EAAE,MAAQ,UAAYJ,EAAW,UAAU,SAAS,SAAS,GAC/DA,EAAW,UAAU,OAAO,SAAS,CAEzC,CAEAE,EAAU,QAAQG,GAAQ,CACxBA,EAAK,iBAAiB,QAASC,GAAS,CACtCA,EAAM,eAAc,EAEpB,MAAMC,EAAWF,EAAK,aAAa,MAAM,EAAE,UAAU,CAAC,EAChDG,EAAgB,SAAS,eAAeD,CAAQ,EAElDC,IACFR,EAAW,UAAU,OAAO,SAAS,EACrC,SAAS,KAAK,MAAM,SAAW,GAC/BQ,EAAc,eAAe,CAAE,SAAU,QAAU,CAAA,EAEzD,CAAG,CACH,CAAC"}