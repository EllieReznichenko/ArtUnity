{"version":3,"file":"index.js","sources":["../src/js/artists-api.js","../src/js/artists.js","../src/js/about-artist-modal.js","../src/js/feedback.js","../src/js/mob-menu.js"],"sourcesContent":["\nexport const API_BASE = 'https://sound-wave.b.goit.study/api';\n\nexport let currentPage = 1;\nexport const limit = 8;\n\nexport function showToast(message) {\n  alert(message);\n}\n\nexport async function fetchArtists(page = 1, limit = 8) {\n  const res = await fetch(`${API_BASE}/artists?page=${page}&limit=${limit}`);\n  if (!res.ok) throw new Error('Не вдалося завантажити артистів');\n  return await res.json();\n}\n\nexport async function fetchArtistById(id) {\n  const res = await fetch(`${API_BASE}/artists/${id}`);\n  if (!res.ok) throw new Error('Не вдалося завантажити деталі артиста');\n  return await res.json();\n}\n\nexport async function renderArtists() {\n  showLoader();\n  // Показуємо індикатор завантаження\n\n  try {\n    const data = await fetchArtists(currentPage, limit);\n    // Чекаємо відповіді від API, отримуємо дані артистів\n\n    const cardsMarkup = data.artists.map(createCard).join('');\n    // Для кожного артиста викликаємо createCard, отримуємо масив рядків HTML, об'єднуємо у єдиний рядок\n\n    container.insertAdjacentHTML('beforeend', cardsMarkup);\n    // Вставляємо нові картки в кінець контейнера\n\n    if (currentPage * limit >= data.total) {\n      loadMoreBtn.style.display = 'none';\n      // Якщо завантажили всі артисти (поточна сторінка * ліміт >= загальна кількість), ховаємо кнопку \"Load More\"\n    }\n  } catch (error) {\n    console.error(error);\n    showToast('⚠️ Помилка завантаження артистів. Спробуйте пізніше.');\n    // У разі помилки показуємо повідомлення\n  } finally {\n    hideLoader();\n    // При будь-якому результаті — ховаємо індикатор завантаження\n  }\n}\n\n\n\n\nexport const FEEDBACK_API = 'https://sound-wave.b.goit.study/api/feedbacks';\n\nexport async function fetchFeedbacks() {\n  try {\n    const res = await fetch(FEEDBACK_API);\n    if (!res.ok) throw new Error('Failed to load feedbacks');\n    const data = await res.json();\n    return data.data;\n  } catch (error) {\n    console.error(error);\n    return [];\n  }\n}\n\n\n","const refs = {\n  artistCardsContainer: document.querySelector('.artists-grid'),\n  modal: document.getElementById('artist-modal'),\n  modalName: document.getElementById('modal-artist-name'),\n  modalImage: document.getElementById('modal-artist-image'),\n  modalGenres: document.getElementById('modal-artist-genres'),\n  modalBio: document.getElementById('modal-artist-bio'),\n  modalClose: document.getElementById('modal-close'),\n  loadMoreBtn: document.getElementById('load-more-btn'),\n};\n\nconst artists = [\n  { id: '1', name: 'Ren', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image.jpg', bio: 'Ren Eryn Gill, known professionally as Ren, is a multi-award-winning...' },\n  { id: '2', name: 'Unlike Pluto', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image1.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '3', name: 'Sleepy Hallow', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image2.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '4', name: 'Samara Cyn', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image3.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '5', name: 'Oliver Tree', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image4.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '6', name: 'Logic', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image5.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '7', name: 'Mother Mother', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image6.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '8', name: 'Livingston', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image7.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '9', name: 'Sleepy Hallow', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image2.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '10', name: 'Sleepy Hallow', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image2.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '11', name: 'Sleepy Hallow', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image2.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n  { id: '12', name: 'Sleepy Hallow', genres: ['Alternative', 'Pop', 'Rock', 'Indie'], image: '/img/artists/Placeholder_Image2.jpg', bio: 'A look at the influential figures who shaped jazz music history.' },\n];\n\nlet currentIndex = 0;\nconst artistsPerPage = 8;\n\nfunction renderArtistsChunk() {\n  const nextArtists = artists.slice(currentIndex, currentIndex + artistsPerPage);\n  const markup = nextArtists\n    .map(({ id, name, genres, image, bio }) => {\n      const genreTags = genres.map(genre => `<span class=\"genre\">${genre}</span>`).join('');\n      const shortBio = bio.length > 100 ? bio.slice(0, 100) + '...' : bio;\n\n      return `\n        <li class=\"artist-card\" data-id=\"${id}\">\n          <img src=\"${image}\" alt=\"${name}\" />\n          <div class=\"genres\">${genreTags}</div>\n          <h3 class=\"artist-name\">${name}</h3>\n          <p class=\"description\">${shortBio}</p>\n          <button class=\"learn-more\" data-id=\"${id}\">\n            Learn More\n            <svg class=\"icon\" width=\"24\" height=\"24\">\n              <use href=\"/img/sprite.svg#icon-caret-right-learn-more\"></use>\n            </svg>\n          </button>\n        </li>\n      `;\n    })\n    .join('');\n\n  refs.artistCardsContainer.insertAdjacentHTML('beforeend', markup);\n  currentIndex += artistsPerPage;\n\n  if (currentIndex >= artists.length) {\n    refs.loadMoreBtn.style.display = 'none';\n  }\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  renderArtistsChunk();\n\n  refs.loadMoreBtn.addEventListener('click', renderArtistsChunk);\n\n  refs.artistCardsContainer.addEventListener('click', e => {\n    const btn = e.target.closest('.learn-more');\n    if (!btn) return;\n\n    const artistId = btn.dataset.id;\n    const artist = artists.find(a => a.id === artistId);\n    if (!artist) return;\n\n    refs.modalName.textContent = artist.name;\n    refs.modalImage.src = artist.image;\n    refs.modalImage.alt = artist.name;\n    refs.modalGenres.innerHTML = artist.genres.map(g => `<span class=\"genre\">${g}</span>`).join('');\n    refs.modalBio.textContent = artist.bio;\n    refs.modal.classList.remove('hidden');\n  });\n\n  refs.modalClose.addEventListener('click', () => {\n    refs.modal.classList.add('hidden');\n  });\n\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape' && !refs.modal.classList.contains('hidden')) {\n      refs.modal.classList.add('hidden');\n    }\n  });\n});\n","import axios from 'axios';\n\nconst modal = document.querySelector('.modal');\nconst modalContent = modal.querySelector('.modal-content');\nconst loader = document.querySelector('.loader');\n\nlet youtubeListeners = [];\n\nfunction openModal() {\n  modal.classList.add('is-open');\n  document.body.style.overflow = 'hidden';\n}\n\nfunction closeModal() {\n  modal.classList.remove('is-open');\n  document.body.style.overflow = '';\n  modalContent.innerHTML = '';\n  removeYoutubeListeners();\n}\n\nfunction removeYoutubeListeners() {\n  youtubeListeners.forEach(({ element, handler }) => {\n    element.removeEventListener('click', handler);\n  });\n  youtubeListeners = [];\n}\n\nfunction addYoutubeListeners() {\n  const buttons = modalContent.querySelectorAll('.youtube-btn');\n  buttons.forEach(button => {\n    const handler = () => {\n      const url = button.dataset.youtube;\n      if (url) window.open(url, '_blank');\n    };\n    button.addEventListener('click', handler);\n    youtubeListeners.push({ element: button, handler });\n  });\n}\n\nfunction renderArtistModal(artist) {\n  const yearsInfo = artist.yearFormed\n    ? artist.yearDisbanded\n      ? `${artist.yearFormed} - ${artist.yearDisbanded}`\n      : `${artist.yearFormed} - present`\n    : 'information missing';\n\n  const gender = artist.gender || 'information missing';\n  const membersCount = artist.membersCount || 'information missing';\n  const country = artist.country || 'information missing';\n  const biography = artist.biography || 'information missing';\n  const genres = artist.genres?.length\n    ? artist.genres.join(', ')\n    : 'information missing';\n  const imageUrl = artist.imageUrl || '';\n\n  const albumsHtml = artist.albums?.length\n    ? artist.albums\n        .map(album => {\n          const tracksHeader = `\n            <tr>\n              <th>Track</th>\n              <th>Time</th>\n              <th>Link</th>\n            </tr>`;\n          const tracksRows = album.tracks\n            .map(track => {\n              const youtubeLink = track.youtubeUrl\n                ? `<a href=\"${track.youtubeUrl}\" target=\"_blank\" rel=\"noopener noreferrer\">YouTube</a>`\n                : '';\n              return `\n                <tr>\n                  <td>${track.title}</td>\n                  <td>${track.duration}</td>\n                  <td>${youtubeLink}</td>\n                </tr>`;\n            })\n            .join('');\n          return `\n            <div class=\"album\">\n              <h3>${album.title}</h3>\n              <table>\n                <thead>${tracksHeader}</thead>\n                <tbody>${tracksRows}</tbody>\n              </table>\n            </div>`;\n        })\n        .join('')\n    : '<p>Albums information missing</p>';\n\n  modalContent.innerHTML = `\n    <button class=\"button-close\" aria-label=\"Close\">\n      <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M18 6L6 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n        <path d=\"M6 6L18 18\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n      </svg>\n    </button>\n    <h2 class=\"artist-mod-title\">${artist.name}</h2>\n    ${\n      imageUrl\n        ? `<img class=\"artist-image\" src=\"${imageUrl}\" alt=\"${artist.name}\" style=\"width: 576px; height: 354px;\">`\n        : ''\n    }\n    <div class=\"artist-info\">\n      <p><strong>Years active</strong> ${yearsInfo}</p>\n      <p><strong>Sex</strong> ${gender}</p>\n      <p><strong>Members</strong> ${membersCount}</p>\n      <p><strong>Country</strong> ${country}</p>\n      <p class=\"biography\"><strong>Biography</strong> ${biography}</p>\n      <div class=\"genres\">\n        <strong>Genres</strong> ${genres}\n      </div>\n    </div>\n    <div class=\"albums\">\n      <h3>Albums</h3>\n      ${albumsHtml}\n    </div>`;\n\n  modalContent\n    .querySelector('.button-close')\n    .addEventListener('click', closeModal);\n\n  addYoutubeListeners();\n}\n\nasync function fetchArtistAndOpenModal(id) {\n  try {\n    loader.style.display = 'block';\n    modalContent.innerHTML = '';\n    openModal();\n\n    // Викликаємо API для артиста\n    const response = await axios.get(\n      `https://sound-wave.b.goit.study/api/artists/${id}`\n    );\n    const artistRaw = response.data;\n    // Мапінг артиста під ваш формат\n    const artist = {\n      name: artistRaw.strArtist || artistRaw.name || 'No name',\n      imageUrl: artistRaw.strArtistThumb || artistRaw.image || '',\n      yearFormed: artistRaw.intFormedYear || artistRaw.yearFormed || '',\n      yearDisbanded:\n        artistRaw.intDiedYear && artistRaw.intDiedYear !== 'null'\n          ? artistRaw.intDiedYear\n          : '',\n      gender: artistRaw.strGender || artistRaw.gender || '',\n      membersCount: artistRaw.intMembers || artistRaw.membersCount || '',\n      country: artistRaw.strCountry || artistRaw.country || '',\n      biography: artistRaw.strBiographyEN || artistRaw.bio || '',\n      genres: artistRaw.genres || [],\n      albums: [],\n    };\n\n    // Якщо є albumsList, беремо його, інакше allAlbums\n    let albumsArray = [];\n    if (artistRaw.albumsList && Array.isArray(artistRaw.albumsList)) {\n      albumsArray = artistRaw.albumsList;\n    } else {\n      // Якщо API повертає allAlbums як масив\n      const albumsRes = await axios.get(\n        `https://sound-wave.b.goit.study/api/artists/${id}/albums`\n      );\n      const allAlbums = albumsRes.data;\n      albumsArray = Array.isArray(allAlbums)\n        ? allAlbums\n        : allAlbums.albums || [];\n    }\n\n    // Мапінг альбомів під ваш формат\n    artist.albums = albumsArray.map(album => ({\n      title: album.strAlbum || album.title || 'No title',\n      tracks: (album.tracks || []).map(track => ({\n        title: track.strTrack || track.title || 'No title',\n        duration: track.intDuration\n          ? Math.floor(track.intDuration / 60000) +\n            ':' +\n            String(Math.floor((track.intDuration % 60000) / 1000)).padStart(\n              2,\n              '0'\n            )\n          : '',\n        youtubeUrl: track.movie && track.movie !== 'null' ? track.movie : '',\n      })),\n    }));\n\n    renderArtistModal(artist);\n  } catch (error) {\n    modalContent.innerHTML = '<p>Помилка завантаження даних</p>';\n    console.error(error);\n  } finally {\n    // loader.style.display = 'none';\n  }\n}\n\n// Замість .artist-list шукаємо .artists-grid (основний список артистів)\nconst artistList = document.querySelector('.artists-grid');\nif (artistList) {\n  artistList.addEventListener('click', e => {\n    const btn = e.target.closest('.learn-more');\n    if (!btn) return;\n    const card = btn.closest('.artist-card');\n    if (!card) return;\n    const artistId = card.dataset.id;\n    fetchArtistAndOpenModal(artistId);\n  });\n}\n\nmodal.addEventListener('click', e => {\n  if (e.target === modal) closeModal();\n});\n\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') closeModal();\n});\n","import axios from 'axios';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport Raty from 'raty-js';\n\n\nimport { fetchFeedbacks } from './artists-api';\n\nfunction roundRating(rating) {\n  return Math.round(rating);\n}\n\n// Обробка відгуків\nfunction processFeedbacks(rawFeedbacks) {\n  return rawFeedbacks.map(fb => ({\n    ...fb,\n    roundedRating: roundRating(fb.rating),\n  }));\n}\n\nconsole.log(roundRating);\n\n// Отримання випадкових відгуків\n\nconst getRandomFeedbacks = async (count = 3) => {\n  try {\n    const all = await fetchFeedbacks();\n\n    const random = [];\n    const used = new Set();\n\n    while (random.length < count && used.size < all.length) {\n      const i = Math.floor(Math.random() * all.length);\n      if (!used.has(i)) {\n        used.add(i);\n        random.push(all[i]);\n      }\n    }\n\n    return random;\n  } catch (error) {\n    console.error('Не вдалося отримати відгуки:', error);\n    return [];\n  }\n};\n\n// Основна логіка\ndocument.addEventListener('DOMContentLoaded', () => {\n  (async () => {\n    try {\n      const rawFeedbacks = await getRandomFeedbacks(3);\n      const feedbacks = processFeedbacks(rawFeedbacks);\n\n      const wrapper = document.querySelector('.swiper-wrapper');\n      wrapper.innerHTML = '';\n\n      feedbacks.forEach((fb, index) => {\n        const { name, descr, roundedRating } = fb;\n\n        const slide = document.createElement('div');\n        slide.className = 'swiper-slide';\n        slide.innerHTML = `\n          <div class=\"feedback-card\">\n            <div class=\"rating\" data-score=\"${roundedRating}\"></div>\n            <p class=\"feedback_description\">${descr}</p>\n            <h3 class=\"feedback_name\">${name}</h3>\n          </div>\n        `;\n        wrapper.appendChild(slide);\n      });\n\n      // Ініціалізація Swiper\n      new Swiper('.swiper', {\n        direction: 'horizontal',\n        loop: false,\n        modules: [Navigation, Pagination],\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true,\n        },\n        navigation: {\n          nextEl: '.swiper-button-next',\n          prevEl: '.swiper-button-prev',\n        },\n        simulateTouch: true,\n        grabCursor: true,\n        keyboard: {\n          enabled: true,\n          pageUpDown: true,\n          onlyInViewport: true,\n        },\n        mousewheel: {\n          eventsTarget: '.swiper',\n        },\n      });\n\n      // Ініціалізація Raty для кожного відгуку\n      const ratingEls = document.querySelectorAll('.rating');\n      ratingEls.forEach(el => {\n        const score = parseInt(el.dataset.score, 10);\n        const raty = new Raty(el, {\n          starOn: '/img/feedback/star-filled.png',\n          starOff: '/img/feedback/star-empty.png',\n          score: score,\n          readOnly: true,\n        });\n        raty.init();\n      });\n    } catch (error) {\n      console.error('Помилка під час обробки відгуків:', error);\n    }\n  })();\n});\n","const burgerBtn = document.querySelector('[data-header-open]');\nconst mobileMenu = document.querySelector('[data-menu]');\nconst mobileCloseBtn = document.querySelector('[data-menu-close]');\nconst menuLinks = document.querySelectorAll('.mob-nav-link');\n\nburgerBtn.addEventListener('click', toggleMobileMenu);\nmobileCloseBtn.addEventListener('click', toggleMobileMenu);\n\nfunction toggleMobileMenu() {\n  mobileMenu.classList.toggle('is-open');\n}\n\n// -------------закриття через клавішу Esc--------------\ndocument.addEventListener('keydown', closeMobileMenu);\nfunction closeMobileMenu(e) {\n  if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n    mobileMenu.classList.remove('is-open');\n  }\n}\n//------ Закрытие меню и плавный скролл по клику на ссылку ---------\nmenuLinks.forEach(link => {\n  link.addEventListener('click', event => {\n    event.preventDefault();\n\n    const targetId = link.getAttribute('href').substring(1);\n    const targetSection = document.getElementById(targetId);\n\n    if (targetSection) {\n      mobileMenu.classList.remove('is-open');\n      document.body.style.overflow = '';\n      targetSection.scrollIntoView({ behavior: 'smooth' });\n    }\n  });\n});\n"],"names":["FEEDBACK_API","fetchFeedbacks","res","error","refs","artists","currentIndex","artistsPerPage","renderArtistsChunk","markup","id","name","genres","image","bio","genreTags","genre","shortBio","btn","artistId","artist","a","g","modal","modalContent","loader","youtubeListeners","openModal","closeModal","removeYoutubeListeners","element","handler","addYoutubeListeners","button","url","renderArtistModal","yearsInfo","gender","membersCount","country","biography","_a","imageUrl","albumsHtml","_b","album","tracksHeader","tracksRows","track","youtubeLink","fetchArtistAndOpenModal","artistRaw","axios","albumsArray","allAlbums","artistList","card","roundRating","rating","processFeedbacks","rawFeedbacks","fb","getRandomFeedbacks","count","all","random","used","i","feedbacks","wrapper","index","descr","roundedRating","slide","Swiper","Navigation","Pagination","el","score","Raty","burgerBtn","mobileMenu","mobileCloseBtn","menuLinks","toggleMobileMenu","closeMobileMenu","link","event","targetId","targetSection"],"mappings":"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"}