{"version":3,"file":"index.js","sources":["../src/js/mob-menu.js","../src/js/feedback.js"],"sourcesContent":["// const burgerBtn = document.querySelector('[data-header-open]');\n// const mobileMenu = document.querySelector('[data-menu]');\n// const mobileCloseBtn = document.querySelector('[data-menu-close]');\n\n// burgerBtn.addEventListener('click', toggleMobileMenu);\n// mobileCloseBtn.addEventListener('click', toggleMobileMenu);\n\n// function toggleMobileMenu() {\n//   mobileMenu.classList.toggle('is-open');\n// }\n(() => {\n  const menuBtn = document.querySelector('[data-header-open]');\n  const closeBtn = document.querySelector('[data-menu-close]');\n  const mobileMenu = document.querySelector('[data-menu]');\n  const menuLinks = mobileMenu.querySelectorAll('.mob-nav-link');\n\n  // Открытие меню\n  menuBtn.addEventListener('click', () => {\n    mobileMenu.classList.add('is-open');\n    document.body.style.overflow = 'hidden';\n  });\n\n  // Закрытие меню\n  closeBtn.addEventListener('click', () => {\n    mobileMenu.classList.remove('is-open');\n    document.body.style.overflow = '';\n  });\n\n  // Закрытие меню и плавный скролл по ссылкам\n  menuLinks.forEach(link => {\n    link.addEventListener('click', event => {\n      event.preventDefault();\n\n      const targetId = link.getAttribute('href').substring(1);\n      const targetSection = document.getElementById(targetId);\n\n      if (targetSection) {\n        mobileMenu.classList.remove('is-open');\n        document.body.style.overflow = '';\n        targetSection.scrollIntoView({ behavior: 'smooth' });\n      }\n    });\n  });\n})();\n// -------------закриття через клавішу Esc--------------\ndocument.addEventListener('keydown', closeMobileMenu);\nfunction closeMobileMenu(e) {\n  if (e.key === 'Escape' && mobileMenu.classList.contains('is-open')) {\n    mobileMenu.classList.remove('is-open');\n  }\n}\n","import axios from 'axios';\n\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport 'css-star-rating/css/star-rating.min.css';\n\n// Округлення\nfunction roundRating(rating) {\n  return Math.round(rating);\n}\n\n// Обробка відгуків\nfunction processFeedbacks(rawFeedbacks) {\n  return rawFeedbacks.map(fb => ({\n    ...fb,\n    roundedRating: roundRating(fb.rating),\n  }));\n}\n\n// Отримання випадкових відгуків (на фронті, бо бек не підтримує limit/sort)\nexport const getRandomFeedbacks = async (count = 3) => {\n  try {\n    const response = await axios.get(\n      'https://sound-wave.b.goit.study/api/feedbacks'\n    );\n    const all = response.data.data;\n\n    const random = [];\n    const used = new Set();\n\n    while (random.length < count && used.size < all.length) {\n      const i = Math.floor(Math.random() * all.length);\n      if (!used.has(i)) {\n        used.add(i);\n        random.push(all[i]);\n      }\n    }\n\n    return random;\n  } catch (error) {\n    console.error('Не вдалося отримати відгуки:', error);\n    return [];\n  }\n};\n\n// Налаштування Swiper\ndocument.addEventListener('DOMContentLoaded', () => {\n  new Swiper('.swiper', {\n    direction: 'horizontal',\n    loop: false,\n    modules: [Navigation, Pagination],\n    pagination: {\n      el: '.swiper-pagination',\n      clickable: true,\n    },\n    navigation: {\n      nextEl: '.swiper-button-next',\n      prevEl: '.swiper-button-prev',\n    },\n    scrollbar: {\n      el: '.swiper-scrollbar',\n    },\n    simulateTouch: true,\n    grabCursor: true,\n    keyboard: {\n      enabled: true,\n      pageUpDown: true,\n      onlyInViewport: true,\n    },\n    mousewheel: {\n      eventsTarget: '.swiper',\n    },\n  });\n});\n\n// Генерація слайдів з даних\n(async () => {\n  try {\n    const rawFeedbacks = await getRandomFeedbacks(3);\n    console.log('RAW:', rawFeedbacks);\n    const feedbacks = processFeedbacks(rawFeedbacks);\n\n    const wrapper = document.querySelector('.swiper-wrapper');\n    wrapper.innerHTML = '';\n    feedbacks.forEach(fb => {\n      const { name, descr, rating } = fb;\n\n      const slide = document.createElement('div');\n      slide.className = 'swiper-slide';\n      slide.innerHTML = `\n          <div class=\"feedback-card\">\n            <div class=\"rating large star-icon direction-rtl value-${rating} half label-hidden\">\n   <div class=\"label-value\">1.5</div>\n    <div class=\"star-container\">\n        <div class=\"star\">\n            <i class=\"star-empty\"></i>\n            <i class=\"star-half\"></i>\n            <i class=\"star-filled\"></i>\n        </div>\n        <div class=\"star\">\n            <i class=\"star-empty\"></i>\n            <i class=\"star-half\"></i>\n            <i class=\"star-filled\"></i>\n        </div>\n        <div class=\"star\">\n            <i class=\"star-empty\"></i>\n            <i class=\"star-half\"></i>\n            <i class=\"star-filled\"></i>\n        </div>\n        <div class=\"star\">\n            <i class=\"star-empty\"></i>\n            <i class=\"star-half\"></i>\n            <i class=\"star-filled\"></i>\n        </div>\n        <div class=\"star\">\n            <i class=\"star-empty\"></i>\n            <i class=\"star-half\"></i>\n            <i class=\"star-filled\"></i>\n        </div>\n    </div>\n</div>\n            <p>${descr}</p>\n            <h3>${name}</h3>\n          </div>\n        `;\n      wrapper.appendChild(slide);\n    });\n  } catch (error) {\n    console.error('Помилка під час обробки відгуків:', error);\n  }\n})();\n"],"names":["menuBtn","closeBtn","mobileMenu","menuLinks","link","event","targetId","targetSection","closeMobileMenu","e","roundRating","rating","processFeedbacks","rawFeedbacks","fb","getRandomFeedbacks","count","all","axios","random","used","i","error","Swiper","Navigation","Pagination","feedbacks","wrapper","name","descr","slide"],"mappings":"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"}