import{a as O,S as j,N as H,P as V,R}from"./assets/vendor-BuJqGh_H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const k="https://sound-wave.b.goit.study/api",I=8;function P(e){alert(e)}async function D(e=1,t=8){const s=await fetch(`${k}/artists?page=${e}&limit=${t}`);if(!s.ok)throw new Error("Не вдалося завантажити артистів");return await s.json()}async function Q(e){const t=await fetch(`${k}/artists/${e}`);if(!t.ok)throw new Error("Не вдалося завантажити деталі артиста");return await t.json()}const T=`${k}/feedbacks`;async function G(){try{const e=await fetch(T);if(!e.ok)throw new Error("Failed to load feedbacks");return(await e.json()).data}catch(e){return console.error(e),[]}}async function K(e){try{return(await O.post(T,e)).data}catch(t){throw console.error("Помилка при відправці фідбеку:",t),t}}const $=document.querySelector(".column-left"),x=document.querySelector(".column-right");async function X(){try{const t=(await D()).artists,s=10;for(let a=0;a<s;a++)t.forEach((r,n)=>{var d,g,A;const o=((d=r.strArtistThumb)==null?void 0:d.trim())||((g=r.image)==null?void 0:g.trim())||((A=r.photoUrl)==null?void 0:A.trim())||null;if(!o)return;const c=r.strArtist||r.name||"Unknown Artist";if(!o)return;const i=document.createElement("img");i.src=o,i.alt=c,i.classList.add("hero-img"),n%2===0?$.appendChild(i.cloneNode(!0)):x.appendChild(i.cloneNode(!0))});$.classList.add("animate-up"),x.classList.add("animate-down")}catch(e){console.error("Error loading hero artists:",e)}}X();const W="/ArtUnity/assets/sprite-CLUDtRi5.svg",m={artistCardsContainer:document.querySelector("#artists-grid"),loadMoreBtn:document.getElementById("load-more-btn")};function Z({_id:e,strArtist:t,genres:s,strArtistThumb:a,strBiographyEN:r}){const n=(s||[]).map(i=>`<li class="genre">${i}</li>`).join(""),o=(r==null?void 0:r.length)>100?r.slice(0,100)+"...":r||"",c=a!=null&&a.trim()?a:"/img/artists/Placeholder_Image.jpg";return`
    <li class="artist-cards" data-id="${e}">
      <img class="img" src="${c}" alt="${t}" />
      <ul class="genres">${n}</ul>
      <h3 class="artist-name">${t}</h3>
      <p class="description">${o}</p>
      <button class="learn-more" data-id="${e}">
        Learn More
        <svg class="icon" width="24" height="24">
          <use href="${W}#icon-caret-right-learn-more"></use>
        </svg>
      </button>
    </li>
  `}let b=1;async function Y(){try{const e=await D(b,I);if(!e.artists||!Array.isArray(e.artists))throw new Error("Немає артистів у відповіді");const t=e.artists.map(Z).join("");m.artistCardsContainer.insertAdjacentHTML("beforeend",t),b*I>=e.total?m.loadMoreBtn.style.display="none":(m.loadMoreBtn.classList.remove("loading"),m.loadMoreBtn.querySelector(".loader-spinner").classList.add("visually-hidden")),b++}catch(e){console.error(e),P("Помилка завантаження артистів"),m.loadMoreBtn.style.display="none"}}m.loadMoreBtn.addEventListener("click",()=>{m.loadMoreBtn.classList.add("loading"),m.loadMoreBtn.querySelector(".loader-spinner").classList.remove("visually-hidden"),Y()});document.addEventListener("DOMContentLoaded",()=>{Y()});const y=document.querySelector(".modal"),h=y.querySelector(".modal-content"),q=document.querySelector(".loader");let E=[];function z(){y.classList.add("is-open"),document.body.style.overflow="hidden"}function S(){y.classList.remove("is-open"),document.body.style.overflow="",h.innerHTML="",J()}function J(){E.forEach(({element:e,handler:t})=>{e.removeEventListener("click",t)}),E=[]}function _(){h.querySelectorAll(".youtube-link").forEach(e=>{const t=s=>{s.preventDefault(),window.open(e.href,"_blank")};e.addEventListener("click",t),E.push({element:e,handler:t})})}function ee(e){let t=e.genres??e.genre??e.tags;return t?Array.from(new Set((Array.isArray(t)?t:[t]).flatMap(s=>s.split(",")).map(s=>s.trim()).filter(Boolean))):["information missing"]}function te(e){return e[0]==="information missing"?'<ul class="genre-list"><li class="genre">information missing</li></ul>':`<ul class="genre-list">${e.map(t=>`<li class="genre">${t}</li>`).join("")}</ul>`}function re(e){return e.map(t=>`
      <tr class="artist-tr">
        <td>${t.title}</td>
        <td>${t.duration}</td>
        <td>${t.youtubeUrl?`<a href="${t.youtubeUrl}" class="youtube-link" target="_blank" rel="noopener noreferrer" title="Open on YouTube">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;"><path d="M23.498 6.186a2.994 2.994 0 0 0-2.112-2.12C19.228 3.5 12 3.5 12 3.5s-7.228 0-9.386.566A2.994 2.994 0 0 0 .502 6.186C0 8.344 0 12 0 12s0 3.656.502 5.814a2.994 2.994 0 0 0 2.112 2.12C4.772 20.5 12 20.5 12 20.5s7.228 0 9.386-.566a2.994 2.994 0 0 0 2.112-2.12C24 15.656 24 12 24 12s0-3.656-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
              </a>`:""}</td>
      </tr>`).join("")}function ne(e){return e!=null&&e.length?`<div class="albums-grid">${e.map(t=>`
      <div class="album">
        <h3>${t.title}</h3>
        <table>
          <thead>
            <tr class="artist-tr">
              <th>Track</th>
              <th>Time</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody>
            ${re(t.tracks)}
          </tbody>
        </table>
      </div>`).join("")}</div>`:"<p>Albums information missing</p>"}function se(e){const t=e.yearFormed?e.yearDisbanded?`${e.yearFormed} - ${e.yearDisbanded}`:`${e.yearFormed} - present`:"information missing",s=ee(e),a=te(s),r=e.imageUrl||"",n=ne(e.albums);h.innerHTML=`
    <div class="modal-header">
      <h2 class="artist-mod-title">${e.name}</h2>
      <button class="button-close" aria-label="Close">
        <svg class="artist-modal-close-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="artist-main-info">
      <img class="artist-image" src="${r}" alt="${e.name}">
      <div class="artist-info">
        <div class="artist-info-grid2">
          <div class="info-col">
            <div class="info-block"><span class="info-label">Years active</span><span class="info-value">${t}</span></div>
            <div class="info-block"><span class="info-label">Members</span><span class="info-value">${e.membersCount||"information missing"}</span></div>
          </div>
          <div class="info-col">
            <div class="info-block"><span class="info-label">Sex</span><span class="info-value">${e.gender||"information missing"}</span></div>
            <div class="info-block"><span class="info-label">Country</span><span class="info-value">${e.country||"information missing"}</span></div>
          </div>
        </div>
        <strong>Biography</strong>
        <p class="biography">${e.biography||"information missing"}</p>
        <div class="genres genres-artist"><strong>Genres</strong> ${a}</div>
      </div>
    </div>
    <div class="albums">
      <h3 class="title_album">Albums</h3>
      ${n}
    </div>`,h.querySelector(".button-close").addEventListener("click",S),_()}async function oe(e){try{q.style.display="flex",h.innerHTML="",z();const t=await Q(e),s=o=>{const c=Math.floor(Number(o)/1e3),i=Math.floor(c/60),d=c%60;return`${i}:${d.toString().padStart(2,"0")}`},a={};Array.isArray(t.tracksList)&&t.tracksList.forEach(o=>{const c=o.strAlbum||"Unknown Album";a[c]||(a[c]=[]),a[c].push(o)});const r=Object.entries(a).map(([o,c])=>({title:o,tracks:c.map(i=>{const d=typeof i.movie=="string"&&i.movie.includes("http")?i.movie.split(" ")[0]:"";return{title:i.strTrack||"No title",duration:i.intDuration?s(i.intDuration):"",youtubeUrl:d}})})),n={name:t.strArtist||"No name",imageUrl:t.strArtistThumb||"",yearFormed:t.intFormedYear||"",yearDisbanded:t.intDiedYear&&t.intDiedYear!=="null"?t.intDiedYear:"",gender:t.strGender||"",membersCount:t.intMembers||"",country:t.strCountry||"",biography:t.strBiographyEN||"",genres:Array.isArray(t.genres)?t.genres:[],albums:r};se(n)}catch(t){h.innerHTML="<p>Помилка завантаження даних</p>",console.error(t)}finally{q.style.display="none"}}const U=document.querySelector("#artists-grid");U&&U.addEventListener("click",e=>{const t=e.target.closest(".learn-more");if(!t)return;const s=t.closest(".artist-cards");if(!s)return;const a=s.dataset.id;oe(a)});y.addEventListener("click",e=>{e.target===y&&S()});window.addEventListener("keydown",e=>{e.key==="Escape"&&S()});const F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC";function ae(e){return Math.round(e)}function ie(e){return e.map(t=>({...t,roundedRating:ae(t.rating)}))}function ce(e){if(e.length===0)return[];const t=e[0],s=e[e.length-1];let a=null;if(e.length>2){let r;do r=Math.floor(Math.random()*e.length);while(r===0||r===e.length-1);a=e[r]}return[t,a,s].filter(Boolean)}(async()=>{try{const e=new j(".swiper",{direction:"horizontal",loop:!1,autoHeight:!0,modules:[H,V],pagination:{el:".swiper-pagination",clickable:!0,renderBullet:(n,o)=>n<3?`<span class="${o}"></span>`:""},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},simulateTouch:!0,grabCursor:!0,keyboard:{enabled:!0,pageUpDown:!0,onlyInViewport:!0},mousewheel:{eventsTarget:".swiper"}});e.on("slideChange",function(){const n=document.querySelectorAll(".swiper-pagination-bullet");n.forEach(c=>c.classList.remove("swiper-pagination-bullet-active"));const o=e.realIndex%3;n[o]&&n[o].classList.add("swiper-pagination-bullet-active")});const t=await G(),s=ie(t),a=ce(s),r=document.querySelector(".swiper-wrapper");r.innerHTML="",s.forEach(n=>{const o=document.createElement("div");o.className="swiper-slide",o.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-score="${n.roundedRating}"></div>
            <p class="feedback_description">${n.descr}</p>
            <h3 class="feedback_name">${n.name}</h3>
          </div>
        `,r.appendChild(o)}),document.querySelectorAll(".rating").forEach(n=>{new R(n,{starOn:F,starOff:N,score:parseInt(n.dataset.score,10),readOnly:!0}).init()})}catch(e){console.error("Ошибка при загрузке отзывов:",e)}})();const u=document.querySelector("[data-feedback-modal]"),w=document.querySelector("[data-feedback-modal-open]"),L=document.querySelector("[data-feedback-modal-close]"),p=document.getElementById("feedback-star-rating"),f=u==null?void 0:u.querySelector(".feedback-modal-form"),v=document.querySelector(".feedback-modal-notification");if(u&&f&&p){let a=function(r){p.innerHTML="";for(let n=1;n<=5;n++){const o=document.createElement("img");o.src=n<=r?F:N,o.alt=`Star ${n}`,o.dataset.value=n,o.style.cursor="pointer",o.addEventListener("click",()=>{s=n,a(s)}),p.appendChild(o)}};const e=()=>document.body.classList.add("body-lock"),t=()=>document.body.classList.remove("body-lock");w==null||w.addEventListener("click",()=>{u.classList.remove("is-hidden"),e()}),L==null||L.addEventListener("click",()=>{u.classList.add("is-hidden"),t()}),u.addEventListener("click",r=>{r.target===u&&(u.classList.add("is-hidden"),t())});let s=0;a(0),f.setAttribute("novalidate",!0),f.addEventListener("submit",async r=>{r.preventDefault(),f.querySelectorAll("input, textarea").forEach(l=>{l.classList.remove("input-error");const B=l.parentElement.querySelector(".error-text");B&&B.remove()});const o=p.querySelector(".error-text");o&&o.remove(),p.classList.remove("input-error");let c=!1;const i=f.querySelector("#user-name"),d=i.value.trim();if(d.length<2||d.length>16){i.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please enter a valid name (2-16 characters)",i.parentElement.appendChild(l),c=!0}const g=f.querySelector("#user-message"),A=g.value.trim();if(A.length<10||A.length>512){g.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please enter a message (10-512 characters)",g.parentElement.appendChild(l),c=!0}if(s===0){p.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please choose a rating",p.appendChild(l),c=!0}if(!c)try{await K({name:d,rating:s,descr:A}),u.classList.add("is-hidden"),t(),f.reset(),s=0,a(s),v&&(v.textContent="Your feedback has been received. The Universe has heard you.",v.classList.add("is-visible"),setTimeout(()=>{v.classList.remove("is-visible")},3e3))}catch(l){alert("Error sending feedback. Please try again later."),console.error(l)}})}const le=document.querySelector("[data-header-open]"),C=document.querySelector("[data-menu]"),de=document.querySelector("[data-menu-close]"),ue=document.querySelectorAll(".mob-nav-link");function me(){C.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",M)}function M(e){e.type==="keydown"&&e.key!=="Escape"||(C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",M))}le.addEventListener("click",me);de.addEventListener("click",M);ue.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const s=e.getAttribute("href").substring(1),a=document.getElementById(s);a&&(C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),a.scrollIntoView({behavior:"smooth"}))})});
//# sourceMappingURL=index.js.map
