import{a as O,S as j,N as H,P as V,R}from"./assets/vendor-BuJqGh_H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const k="https://sound-wave.b.goit.study/api",I=8;function P(e){alert(e)}async function D(e=1,t=8){const o=await fetch(`${k}/artists?page=${e}&limit=${t}`);if(!o.ok)throw new Error("Не вдалося завантажити артистів");return await o.json()}async function Q(e){const t=await fetch(`${k}/artists/${e}`);if(!t.ok)throw new Error("Не вдалося завантажити деталі артиста");return await t.json()}const T=`${k}/feedbacks`;async function G(){try{const e=await fetch(T);if(!e.ok)throw new Error("Failed to load feedbacks");return(await e.json()).data}catch(e){return console.error(e),[]}}async function K(e){try{return(await O.post(T,e)).data}catch(t){throw console.error("Помилка при відправці фідбеку:",t),t}}const $=document.querySelector(".column-left"),x=document.querySelector(".column-right");async function X(){try{const t=(await D()).artists,o=10;for(let s=0;s<o;s++)t.forEach((r,n)=>{var d,u,m;const a=((d=r.strArtistThumb)==null?void 0:d.trim())||((u=r.image)==null?void 0:u.trim())||((m=r.photoUrl)==null?void 0:m.trim())||null;if(!a)return;const c=r.strArtist||r.name||"Unknown Artist";if(!a)return;const i=document.createElement("img");i.src=a,i.alt=c,i.classList.add("hero-img"),n%2===0?$.appendChild(i.cloneNode(!0)):x.appendChild(i.cloneNode(!0))});$.classList.add("animate-up"),x.classList.add("animate-down")}catch(e){console.error("Error loading hero artists:",e)}}X();const W="/ArtUnity/assets/sprite-CLUDtRi5.svg",p={artistCardsContainer:document.querySelector("#artists-grid"),loadMoreBtn:document.getElementById("load-more-btn")};function Z({_id:e,strArtist:t,genres:o,strArtistThumb:s,strBiographyEN:r}){const n=(o||[]).map(i=>`<li class="genre">${i}</li>`).join(""),a=(r==null?void 0:r.length)>100?r.slice(0,100)+"...":r||"",c=s!=null&&s.trim()?s:"/img/artists/Placeholder_Image.jpg";return`
    <li class="artist-cards" data-id="${e}">
      <img class="img" src="${c}" alt="${t}" />
      <ul class="genres">${n}</ul>
      <h3 class="artist-name">${t}</h3>
      <p class="description">${a}</p>
      <button class="learn-more" data-id="${e}">
        Learn More
        <svg class="icon" width="24" height="24">
          <use href="${W}#icon-caret-right-learn-more"></use>
        </svg>
      </button>
    </li>
  `}let w=1;async function Y(){try{const e=await D(w,I);if(!e.artists||!Array.isArray(e.artists))throw new Error("Немає артистів у відповіді");const t=e.artists.map(Z).join("");p.artistCardsContainer.insertAdjacentHTML("beforeend",t),w*I>=e.total?p.loadMoreBtn.style.display="none":(p.loadMoreBtn.classList.remove("loading"),p.loadMoreBtn.querySelector(".loader-spinner").classList.add("visually-hidden")),w++}catch(e){console.error(e),P("Помилка завантаження артистів"),p.loadMoreBtn.style.display="none"}}p.loadMoreBtn.addEventListener("click",()=>{p.loadMoreBtn.classList.add("loading"),p.loadMoreBtn.querySelector(".loader-spinner").classList.remove("visually-hidden"),Y()});document.addEventListener("DOMContentLoaded",()=>{Y()});const A=document.querySelector(".modal"),g=A.querySelector(".modal-content"),q=document.querySelector(".loader");let E=[];function z(){A.classList.add("is-open"),document.body.style.overflow="hidden"}function S(){A.classList.remove("is-open"),document.body.style.overflow="",g.innerHTML="",J()}function J(){E.forEach(({element:e,handler:t})=>{e.removeEventListener("click",t)}),E=[]}function _(){g.querySelectorAll(".youtube-link").forEach(e=>{const t=o=>{o.preventDefault(),window.open(e.href,"_blank")};e.addEventListener("click",t),E.push({element:e,handler:t})})}function ee(e){let t=e.genres??e.genre??e.tags;return t?Array.from(new Set((Array.isArray(t)?t:[t]).flatMap(o=>o.split(",")).map(o=>o.trim()).filter(Boolean))):["information missing"]}function te(e){return e[0]==="information missing"?'<ul class="genre-list"><li class="genre">information missing</li></ul>':`<ul class="genre-list">${e.map(t=>`<li class="genre">${t}</li>`).join("")}</ul>`}function re(e){return e.map(t=>`
      <tr class="artist-tr">
        <td>${t.title}</td>
        <td>${t.duration}</td>
        <td>${t.youtubeUrl?`<a href="${t.youtubeUrl}" class="youtube-link" target="_blank" rel="noopener noreferrer" title="Open on YouTube">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;"><path d="M23.498 6.186a2.994 2.994 0 0 0-2.112-2.12C19.228 3.5 12 3.5 12 3.5s-7.228 0-9.386.566A2.994 2.994 0 0 0 .502 6.186C0 8.344 0 12 0 12s0 3.656.502 5.814a2.994 2.994 0 0 0 2.112 2.12C4.772 20.5 12 20.5 12 20.5s7.228 0 9.386-.566a2.994 2.994 0 0 0 2.112-2.12C24 15.656 24 12 24 12s0-3.656-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
              </a>`:""}</td>
      </tr>`).join("")}function ne(e){return e!=null&&e.length?`<div class="albums-grid">${e.map(t=>`
      <div class="album">
        <h3>${t.title}</h3>
        <table>
          <thead>
            <tr class="artist-tr">
              <th>Track</th>
              <th>Time</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody>
            ${re(t.tracks)}
          </tbody>
        </table>
      </div>`).join("")}</div>`:"<p>Albums information missing</p>"}function se(e){const t=e.yearFormed?e.yearDisbanded?`${e.yearFormed} - ${e.yearDisbanded}`:`${e.yearFormed} - present`:"information missing",o=ee(e),s=te(o),r=e.imageUrl||"",n=ne(e.albums);g.innerHTML=`
    <div class="modal-header">
      <h2 class="artist-mod-title">${e.name}</h2>
      <button class="button-close" aria-label="Close">
        <svg class="artist-modal-close-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="artist-main-info">
      <img class="artist-image" src="${r}" alt="${e.name}">
      <div class="artist-info">
        <div class="artist-info-grid2">
          <div class="info-col">
            <div class="info-block"><span class="info-label">Years active</span><span class="info-value">${t}</span></div>
            <div class="info-block"><span class="info-label">Members</span><span class="info-value">${e.membersCount||"information missing"}</span></div>
          </div>
          <div class="info-col">
            <div class="info-block"><span class="info-label">Sex</span><span class="info-value">${e.gender||"information missing"}</span></div>
            <div class="info-block"><span class="info-label">Country</span><span class="info-value">${e.country||"information missing"}</span></div>
          </div>
        </div>
        <strong>Biography</strong>
        <p class="biography">${e.biography||"information missing"}</p>
        <div class="genres genres-artist"><strong>Genres</strong> ${s}</div>
      </div>
    </div>
    <div class="albums">
      <h3 class="title_album">Albums</h3>
      ${n}
    </div>`,g.querySelector(".button-close").addEventListener("click",S),_()}async function oe(e){try{q.style.display="flex",g.innerHTML="",z();const t=await Q(e),o=a=>{const c=Math.floor(Number(a)/1e3),i=Math.floor(c/60),d=c%60;return`${i}:${d.toString().padStart(2,"0")}`},s={};Array.isArray(t.tracksList)&&t.tracksList.forEach(a=>{const c=a.strAlbum||"Unknown Album";s[c]||(s[c]=[]),s[c].push(a)});const r=Object.entries(s).map(([a,c])=>({title:a,tracks:c.map(i=>{const d=typeof i.movie=="string"&&i.movie.includes("http")?i.movie.split(" ")[0]:"";return{title:i.strTrack||"No title",duration:i.intDuration?o(i.intDuration):"",youtubeUrl:d}})})),n={name:t.strArtist||"No name",imageUrl:t.strArtistThumb||"",yearFormed:t.intFormedYear||"",yearDisbanded:t.intDiedYear&&t.intDiedYear!=="null"?t.intDiedYear:"",gender:t.strGender||"",membersCount:t.intMembers||"",country:t.strCountry||"",biography:t.strBiographyEN||"",genres:Array.isArray(t.genres)?t.genres:[],albums:r};se(n)}catch(t){g.innerHTML="<p>Помилка завантаження даних</p>",console.error(t)}finally{q.style.display="none"}}const U=document.querySelector("#artists-grid");U&&U.addEventListener("click",e=>{const t=e.target.closest(".learn-more");if(!t)return;const o=t.closest(".artist-cards");if(!o)return;const s=o.dataset.id;oe(s)});A.addEventListener("click",e=>{e.target===A&&S()});window.addEventListener("keydown",e=>{e.key==="Escape"&&S()});const F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC";function ae(e){return Math.round(e)}function ie(e){return e.map(t=>({...t,roundedRating:ae(t.rating)}))}function ce(e){if(e.length===0)return[];const t=e[0],o=e[e.length-1];let s=null;if(e.length>2){let r;do r=Math.floor(Math.random()*e.length);while(r===0||r===e.length-1);s=e[r]}return[t,s,o].filter(Boolean)}(async()=>{try{const e=new j(".swiper",{direction:"horizontal",loop:!1,autoHeight:!0,modules:[H,V],pagination:{el:".swiper-pagination",clickable:!0,renderBullet:(n,a)=>n<3?`<span class="${a}"></span>`:""},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},simulateTouch:!0,grabCursor:!0,keyboard:{enabled:!0,pageUpDown:!0,onlyInViewport:!0},mousewheel:{eventsTarget:".swiper"}});e.on("slideChange",function(){const n=document.querySelectorAll(".swiper-pagination-bullet");n.forEach(c=>c.classList.remove("swiper-pagination-bullet-active"));const a=e.realIndex%3;n[a]&&n[a].classList.add("swiper-pagination-bullet-active")});const t=await G(),o=ie(t),s=ce(o),r=document.querySelector(".swiper-wrapper");r.innerHTML="",o.forEach(n=>{const a=document.createElement("div");a.className="swiper-slide",a.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-score="${n.roundedRating}"></div>
            <p class="feedback_description">${n.descr}</p>
            <h3 class="feedback_name">${n.name}</h3>
          </div>
        `,r.appendChild(a)}),document.querySelectorAll(".rating").forEach(n=>{new R(n,{starOn:F,starOff:N,score:parseInt(n.dataset.score,10),readOnly:!0}).init()})}catch(e){console.error("Ошибка при загрузке отзывов:",e)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-feedback-modal]"),t=document.querySelector("[data-feedback-modal-open]"),o=document.querySelector("[data-feedback-modal-close]"),s=document.getElementById("feedback-star-rating"),r=e==null?void 0:e.querySelector(".feedback-modal-form"),n=document.querySelector(".feedback-modal-notification");if(!e||!r||!s)return;function a(){document.body.classList.add("body-lock")}function c(){document.body.classList.remove("body-lock")}t==null||t.addEventListener("click",()=>{e.classList.remove("is-hidden"),a()}),o==null||o.addEventListener("click",()=>{e.classList.add("is-hidden"),c()}),e.addEventListener("click",u=>{u.target===e&&(e.classList.add("is-hidden"),c())}),document.addEventListener("keydown",u=>{u.key==="Escape"&&!e.classList.contains("is-hidden")&&(e.classList.add("is-hidden"),c())});let i=0;function d(u){s.innerHTML="";for(let m=1;m<=5;m++){const f=document.createElement("img");f.src=m<=u?F:N,f.alt=`Star ${m}`,f.dataset.value=m,f.style.cursor="pointer",f.addEventListener("click",()=>{i=m,d(i)}),s.appendChild(f)}}d(0),r.setAttribute("novalidate",!0),r.addEventListener("submit",async u=>{u.preventDefault(),r.querySelectorAll("input, textarea").forEach(l=>{l.classList.remove("input-error");const B=l.parentElement.querySelector(".error-text");B&&B.remove()});const f=s.querySelector(".error-text");f&&f.remove(),s.classList.remove("input-error");let h=!1;const y=r.querySelector("#user-name"),v=y.value.trim();if(v.length<2||v.length>16){y.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please enter a valid name (2-16 characters)",y.parentElement.appendChild(l),h=!0}const b=r.querySelector("#user-message"),L=b.value.trim();if(L.length<10||L.length>512){b.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please enter a message (10-512 characters)",b.parentElement.appendChild(l),h=!0}if(i===0){s.classList.add("input-error");const l=document.createElement("div");l.classList.add("error-text"),l.textContent="Please choose a rating",s.appendChild(l),h=!0}if(!h)try{await K({name:v,rating:i,descr:L}),e.classList.add("is-hidden"),c(),r.reset(),i=0,d(i),n&&(n.textContent="Your feedback has been received. The Universe has heard you.",n.classList.add("is-visible"),setTimeout(()=>{n.classList.remove("is-visible")},3e3))}catch(l){alert("Error sending feedback. Please try again later."),console.error(l)}})});const le=document.querySelector("[data-header-open]"),C=document.querySelector("[data-menu]"),de=document.querySelector("[data-menu-close]"),ue=document.querySelectorAll(".mob-nav-link");function me(){C.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",M)}function M(e){e.type==="keydown"&&e.key!=="Escape"||(C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",M))}le.addEventListener("click",me);de.addEventListener("click",M);ue.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const o=e.getAttribute("href").substring(1),s=document.getElementById(o);s&&(C.classList.remove("is-open"),document.body.classList.remove("no-scroll"),s.scrollIntoView({behavior:"smooth"}))})});
//# sourceMappingURL=index.js.map
