import{a as h,S as V,N as H,P as R,R as P}from"./assets/vendor-BuJqGh_H.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const F="https://sound-wave.b.goit.study/api",I=8;function U(e){alert(e)}async function Y(e=1,t=8){const r=await fetch(`${F}/artists?page=${e}&limit=${t}`);if(!r.ok)throw new Error("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∞—Ä—Ç–∏—Å—Ç—ñ–≤");return await r.json()}const T=`${F}/feedbacks`;async function Q(){try{const e=await fetch(T);if(!e.ok)throw new Error("Failed to load feedbacks");return(await e.json()).data}catch(e){return console.error(e),[]}}async function G(e){try{const t=await h.post(T,e);return U("üéâ –î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à –≤—ñ–¥–≥—É–∫!"),t.data}catch(t){throw console.error("–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤—Ü—ñ —Ñ—ñ–¥–±–µ–∫—É:",t),t}}const $=document.querySelector(".column-left"),x=document.querySelector(".column-right");async function K(){try{const t=(await Y()).artists,r=10;for(let o=0;o<r;o++)t.forEach((n,s)=>{var d,u,m;const l=((d=n.strArtistThumb)==null?void 0:d.trim())||((u=n.image)==null?void 0:u.trim())||((m=n.photoUrl)==null?void 0:m.trim())||null;if(!l)return;const a=n.strArtist||n.name||"Unknown Artist";if(!l)return;const i=document.createElement("img");i.src=l,i.alt=a,i.classList.add("hero-img"),s%2===0?$.appendChild(i.cloneNode(!0)):x.appendChild(i.cloneNode(!0))});$.classList.add("animate-up"),x.classList.add("animate-down")}catch(e){console.error("Error loading hero artists:",e)}}K();const X="/ArtUnity/assets/sprite-CLUDtRi5.svg",f={artistCardsContainer:document.querySelector("#artists-grid"),loadMoreBtn:document.getElementById("load-more-btn"),loader:document.querySelector(".loader")};function W({_id:e,strArtist:t,genres:r,strArtistThumb:o,strBiographyEN:n}){const s=(r||[]).map(i=>`<li class="genre">${i}</li>`).join(""),l=(n==null?void 0:n.length)>100?n.slice(0,100)+"...":n||"",a=o!=null&&o.trim()?o:"/img/artists/Placeholder_Image.jpg";return`
    <li class="artist-cards" data-id="${e}">
      <img class="img" src="${a}" alt="${t}" />
      <ul class="genres">${s}</ul>
      <h3 class="artist-name">${t}</h3>
      <p class="description">${l}</p>
      <button class="learn-more" data-id="${e}">
        Learn More
        <svg class="icon" width="24" height="24">
          <use href="${X}#icon-caret-right-learn-more"></use>
        </svg>
      </button>
    </li>
  `}let E=1;async function O(){f.loadMoreBtn.style.display="none",f.loader.style.display="flex";try{const e=await Y(E,I);if(!e.artists||!Array.isArray(e.artists))throw new Error("–ù–µ–º–∞—î –∞—Ä—Ç–∏—Å—Ç—ñ–≤ —É –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ");const t=e.artists.map(W).join("");f.artistCardsContainer.insertAdjacentHTML("beforeend",t),E*I>=e.total?f.loadMoreBtn.style.display="none":f.loadMoreBtn.style.display="block",E++}catch(e){console.error(e),U("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∞—Ä—Ç–∏—Å—Ç—ñ–≤"),f.loadMoreBtn.style.display="none"}finally{f.loader.style.display="none"}}f.loadMoreBtn.addEventListener("click",O);document.addEventListener("DOMContentLoaded",()=>{O()});const A=document.querySelector(".modal"),g=A.querySelector(".modal-content"),D=document.querySelector(".loader");let k=[];function Z(){A.classList.add("is-open"),document.body.style.overflow="hidden"}function C(){A.classList.remove("is-open"),document.body.style.overflow="",g.innerHTML="",z()}function z(){k.forEach(({element:e,handler:t})=>{e.removeEventListener("click",t)}),k=[]}function J(){g.querySelectorAll(".youtube-link").forEach(e=>{const t=r=>{r.preventDefault(),window.open(e.href,"_blank")};e.addEventListener("click",t),k.push({element:e,handler:t})})}function _(e){let t=e.genres??e.genre??e.tags;return t?Array.from(new Set((Array.isArray(t)?t:[t]).flatMap(r=>r.split(",")).map(r=>r.trim()).filter(Boolean))):["information missing"]}function ee(e){return e[0]==="information missing"?'<span class="genre">information missing</span>':e.map(t=>`<span class="genre">${t}</span>`).join(" ")}function te(e){return e.map(t=>`
      <tr>
        <td>${t.title}</td>
        <td>${t.duration}</td>
        <td>${t.youtubeUrl?`<a href="${t.youtubeUrl}" class="youtube-link" target="_blank" rel="noopener noreferrer" title="Open on YouTube">
                <svg width="22" height="22" viewBox="0 0 24 24" fill="currentColor" style="vertical-align:middle;"><path d="M23.498 6.186a2.994 2.994 0 0 0-2.112-2.12C19.228 3.5 12 3.5 12 3.5s-7.228 0-9.386.566A2.994 2.994 0 0 0 .502 6.186C0 8.344 0 12 0 12s0 3.656.502 5.814a2.994 2.994 0 0 0 2.112 2.12C4.772 20.5 12 20.5 12 20.5s7.228 0 9.386-.566a2.994 2.994 0 0 0 2.112-2.12C24 15.656 24 12 24 12s0-3.656-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
              </a>`:""}</td>
      </tr>`).join("")}function re(e){return e!=null&&e.length?`<div class="albums-grid">${e.map(t=>`
      <div class="album">
        <h3>${t.title}</h3>
        <table>
          <thead>
            <tr>
              <th>Track</th>
              <th>Time</th>
              <th>Link</th>
            </tr>
          </thead>
          <tbody>
            ${te(t.tracks)}
          </tbody>
        </table>
      </div>`).join("")}</div>`:"<p>Albums information missing</p>"}function ne(e){const t=e.yearFormed?e.yearDisbanded?`${e.yearFormed} - ${e.yearDisbanded}`:`${e.yearFormed} - present`:"information missing",r=_(e),o=ee(r),n=e.imageUrl||"",s=re(e.albums);g.innerHTML=`
    <div class="modal-header">
      <h2 class="artist-mod-title">${e.name}</h2>
      <button class="button-close" aria-label="Close">
        <svg class="artist-modal-close-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div class="artist-main-info">
      <img class="artist-image" src="${n}" alt="${e.name}">
      <div class="artist-info">
        <div class="artist-info-grid2">
          <div class="info-col">
            <div class="info-block"><span class="info-label">Years active</span><span class="info-value">${t}</span></div>
            <div class="info-block"><span class="info-label">Members</span><span class="info-value">${e.membersCount||"information missing"}</span></div>
          </div>
          <div class="info-col">
            <div class="info-block"><span class="info-label">Sex</span><span class="info-value">${e.gender||"information missing"}</span></div>
            <div class="info-block"><span class="info-label">Country</span><span class="info-value">${e.country||"information missing"}</span></div>
          </div>
        </div>
        <strong>Biography</strong>
        <p class="biography">
  ${e.biography||"information missing"}
</p>
        <div class="genres genres-artist"><strong>Genres</strong> ${o}</div>
      </div>
    </div>
    <div class="albums">
      <h3 class="title_album">Albums</h3>
      ${s}
    </div>`,g.querySelector(".button-close").addEventListener("click",C),J()}async function se(e){var t;try{D.style.display="flex",g.innerHTML="",Z();const{data:r}=await h.get(`https://sound-wave.b.goit.study/api/artists/${e}`);let{data:o}=await h.get("https://sound-wave.b.goit.study/api/artists"),n=((t=o.artists.find(a=>a._id===e))==null?void 0:t.genres)||r.genres||[],s=[];if(Array.isArray(r.albumsList))s=r.albumsList;else{const{data:a}=await h.get(`https://sound-wave.b.goit.study/api/artists/${e}/albums`);s=Array.isArray(a)?a:Array.isArray(a.albums)?a.albums:Array.isArray(a.albumsList)?a.albumsList:Array.isArray(a.results)?a.results:[]}const l={name:r.strArtist||r.name||"No name",imageUrl:r.strArtistThumb||r.image||"",yearFormed:r.intFormedYear||r.yearFormed||"",yearDisbanded:r.intDiedYear&&r.intDiedYear!=="null"?r.intDiedYear:"",gender:r.strGender||r.gender||"",membersCount:r.intMembers||r.membersCount||"",country:r.strCountry||r.country||"",biography:r.strBiographyEN||r.bio||"",genres:n,genre:r.genre,tags:r.tags,albums:s.map(a=>({title:a.strAlbum||a.title||"No title",tracks:Array.isArray(a.tracks)?a.tracks.map(i=>({title:i.strTrack||i.title||"No title",duration:i.intDuration?Math.floor(i.intDuration/6e4)+":"+String(Math.floor(i.intDuration%6e4/1e3)).padStart(2,"0"):"",youtubeUrl:i.movie&&i.movie!=="null"?i.movie:""})):[]}))};ne(l)}catch(r){g.innerHTML="<p>–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</p>",console.error(r)}finally{D.style.display="none"}}const q=document.querySelector("#artists-grid");q&&q.addEventListener("click",e=>{const t=e.target.closest(".learn-more");if(!t)return;const r=t.closest(".artist-cards");if(!r)return;const o=r.dataset.id;se(o)});A.addEventListener("click",e=>{e.target===A&&C()});window.addEventListener("keydown",e=>{e.key==="Escape"&&C()});const N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC";function oe(e){return Math.round(e)}function ae(e){return e.map(t=>({...t,roundedRating:oe(t.rating)}))}const ie=async()=>{try{const e=await Q();if(e.length===0)return[];const t=e[0],r=e[e.length-1];let o=null;if(e.length>2){let s;do s=Math.floor(Math.random()*e.length);while(s===0||s===e.length-1);o=e[s]}const n=[t];return o&&n.push(o),e.length>1&&n.push(r),n}catch(e){return console.error("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–≥—É–∫–∏:",e),[]}};document.addEventListener("DOMContentLoaded",()=>{(async()=>{try{const e=await ie(1),t=ae(e),r=document.querySelector(".swiper-wrapper");r.innerHTML="",t.forEach((n,s)=>{const{name:l,descr:a,roundedRating:i}=n,d=document.createElement("div");d.className="swiper-slide",d.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-score="${i}"></div>
            <p class="feedback_description">${a}</p>
            <h3 class="feedback_name">${l}</h3>
          </div>
        `,r.appendChild(d)}),new V(".swiper",{direction:"horizontal",loop:!1,modules:[H,R],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},simulateTouch:!0,grabCursor:!0,keyboard:{enabled:!0,pageUpDown:!0,onlyInViewport:!0},mousewheel:{eventsTarget:".swiper"}}),document.querySelectorAll(".rating").forEach(n=>{const s=parseInt(n.dataset.score,10);new P(n,{starOn:N,starOff:j,score:s,readOnly:!0}).init()})}catch(e){console.error("–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥ —á–∞—Å –æ–±—Ä–æ–±–∫–∏ –≤—ñ–¥–≥—É–∫—ñ–≤:",e)}})()});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector("[data-feedback-modal]"),t=document.querySelector("[data-feedback-modal-open]"),r=document.querySelector("[data-feedback-modal-close]"),o=document.getElementById("feedback-star-rating"),n=e==null?void 0:e.querySelector(".feedback-modal-form"),s=document.querySelector(".feedback-modal-notification");if(!e||!n||!o)return;function l(){document.body.classList.add("body-lock")}function a(){document.body.classList.remove("body-lock")}t==null||t.addEventListener("click",()=>{e.classList.remove("is-hidden"),l()}),r==null||r.addEventListener("click",()=>{e.classList.add("is-hidden"),a()}),e.addEventListener("click",u=>{u.target===e&&(e.classList.add("is-hidden"),a())}),document.addEventListener("keydown",u=>{u.key==="Escape"&&!e.classList.contains("is-hidden")&&(e.classList.add("is-hidden"),a())});let i=0;function d(u){o.innerHTML="";for(let m=1;m<=5;m++){const p=document.createElement("img");p.src=m<=u?N:j,p.alt=`Star ${m}`,p.dataset.value=m,p.style.cursor="pointer",p.addEventListener("click",()=>{i=m,d(i)}),o.appendChild(p)}}d(0),n.setAttribute("novalidate",!0),n.addEventListener("submit",async u=>{u.preventDefault(),n.querySelectorAll("input, textarea").forEach(c=>{c.classList.remove("input-error");const B=c.parentElement.querySelector(".error-text");B&&B.remove()});const p=o.querySelector(".error-text");p&&p.remove(),o.classList.remove("input-error");let y=!1;const v=n.querySelector("#user-name"),b=v.value.trim();if(b.length<2||b.length>16){v.classList.add("input-error");const c=document.createElement("div");c.classList.add("error-text"),c.textContent="Please enter a valid name (2-16 characters)",v.parentElement.appendChild(c),y=!0}const L=n.querySelector("#user-message"),w=L.value.trim();if(w.length<10||w.length>512){L.classList.add("input-error");const c=document.createElement("div");c.classList.add("error-text"),c.textContent="Please enter a message (10-512 characters)",L.parentElement.appendChild(c),y=!0}if(i===0){o.classList.add("input-error");const c=document.createElement("div");c.classList.add("error-text"),c.textContent="Please choose a rating",o.appendChild(c),y=!0}if(!y)try{await G({name:b,rating:i,descr:w}),e.classList.add("is-hidden"),a(),n.reset(),i=0,d(i),s&&(s.textContent="Your feedback has been received. The universe has heard you.",s.classList.add("is-visible"),setTimeout(()=>{s.classList.remove("is-visible")},3e3))}catch(c){alert("Error sending feedback. Please try again later."),console.error(c)}})});const le=document.querySelector("[data-header-open]"),S=document.querySelector("[data-menu]"),ce=document.querySelector("[data-menu-close]"),de=document.querySelectorAll(".mob-nav-link");function ue(){S.classList.add("is-open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",M)}function M(e){e.type==="keydown"&&e.key!=="Escape"||(S.classList.remove("is-open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",M))}le.addEventListener("click",ue);ce.addEventListener("click",M);de.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const r=e.getAttribute("href").substring(1),o=document.getElementById(r);o&&(S.classList.remove("is-open"),document.body.style.overflow="",o.scrollIntoView({behavior:"smooth"}))})});
//# sourceMappingURL=index.js.map
