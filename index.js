import{a as L,S as R,N as P,P as D,R as N}from"./assets/vendor-BuJqGh_H.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function e(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(n){if(n.ep)return;n.ep=!0;const a=e(n);fetch(n.href,a)}})();const $="https://sound-wave.b.goit.study/api/feedbacks";async function O(){try{const t=await fetch($);if(!t.ok)throw new Error("Failed to load feedbacks");return(await t.json()).data}catch(t){return console.error(t),[]}}const l={artistCardsContainer:document.querySelector(".artists-grid"),modal:document.getElementById("artist-modal"),modalName:document.getElementById("modal-artist-name"),modalImage:document.getElementById("modal-artist-image"),modalGenres:document.getElementById("modal-artist-genres"),modalBio:document.getElementById("modal-artist-bio"),modalClose:document.getElementById("modal-close"),loadMoreBtn:document.getElementById("load-more-btn")},y=[{id:"1",name:"Ren",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image.jpg",bio:"Ren Eryn Gill, known professionally as Ren, is a multi-award-winning..."},{id:"2",name:"Unlike Pluto",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image1.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"3",name:"Sleepy Hallow",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image2.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"4",name:"Samara Cyn",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image3.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"5",name:"Oliver Tree",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image4.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"6",name:"Logic",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image5.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"7",name:"Mother Mother",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image6.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"8",name:"Livingston",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image7.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"9",name:"Sleepy Hallow",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image2.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"10",name:"Sleepy Hallow",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image2.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"11",name:"Sleepy Hallow",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image2.jpg",bio:"A look at the influential figures who shaped jazz music history."},{id:"12",name:"Sleepy Hallow",genres:["Alternative","Pop","Rock","Indie"],image:"/img/artists/Placeholder_Image2.jpg",bio:"A look at the influential figures who shaped jazz music history."}];let A=0;const k=8;function E(){const s=y.slice(A,A+k).map(({id:e,name:o,genres:n,image:a,bio:i})=>{const r=n.map(d=>`<span class="genre">${d}</span>`).join(""),c=i.length>100?i.slice(0,100)+"...":i;return`
        <li class="artist-card" data-id="${e}">
          <img src="${a}" alt="${o}" />
          <div class="genres">${r}</div>
          <h3 class="artist-name">${o}</h3>
          <p class="description">${c}</p>
          <button class="learn-more" data-id="${e}">
            Learn More
            <svg class="icon" width="24" height="24">
              <use href="/img/sprite.svg#icon-caret-right-learn-more"></use>
            </svg>
          </button>
        </li>
      `}).join("");l.artistCardsContainer.insertAdjacentHTML("beforeend",s),A+=k,A>=y.length&&(l.loadMoreBtn.style.display="none")}document.addEventListener("DOMContentLoaded",()=>{E(),l.loadMoreBtn.addEventListener("click",E),l.artistCardsContainer.addEventListener("click",t=>{const s=t.target.closest(".learn-more");if(!s)return;const e=s.dataset.id,o=y.find(n=>n.id===e);o&&(l.modalName.textContent=o.name,l.modalImage.src=o.image,l.modalImage.alt=o.name,l.modalGenres.innerHTML=o.genres.map(n=>`<span class="genre">${n}</span>`).join(""),l.modalBio.textContent=o.bio,l.modal.classList.remove("hidden"))}),l.modalClose.addEventListener("click",()=>{l.modal.classList.add("hidden")}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!l.modal.classList.contains("hidden")&&l.modal.classList.add("hidden")})});const g=document.querySelector(".modal"),u=g.querySelector(".modal-content"),f=document.querySelector(".loader");f||console.warn("Loader element not found in DOM!");let b=[];function F(){g.classList.add("is-open"),document.body.style.overflow="hidden"}function w(){g.classList.remove("is-open"),document.body.style.overflow="",u.innerHTML="",T()}function T(){b.forEach(({element:t,handler:s})=>{t.removeEventListener("click",s)}),b=[]}function Y(){u.querySelectorAll(".youtube-btn").forEach(s=>{const e=()=>{const o=s.dataset.youtube;o&&window.open(o,"_blank")};s.addEventListener("click",e),b.push({element:s,handler:e})})}function x(t){var v;const s=t.yearFormed?t.yearDisbanded?`${t.yearFormed} - ${t.yearDisbanded}`:`${t.yearFormed} - present`:"information missing",e=t.gender||"information missing",o=t.membersCount||"information missing",n=t.country||"information missing",a=t.biography||"information missing";let i=[];Array.isArray(t.genres)?i=t.genres.filter(Boolean):typeof t.genres=="string"&&(i=t.genres.split(",").map(m=>m.trim()).filter(Boolean));const r=i.length?i.map(m=>`<span class="genre">${m}</span>`).join(" "):"information missing",c=t.imageUrl||"",d=(v=t.albums)!=null&&v.length?`<div class="albums-grid">${t.albums.map(m=>{const M=`
            <tr>
              <th>Track</th>
              <th>Time</th>
              <th>Link</th>
            </tr>`,j=m.tracks.map(p=>{const S=p.youtubeUrl?`<a href="${p.youtubeUrl}" target="_blank" rel="noopener noreferrer">YouTube</a>`:"";return`
                <tr>
                  <td>${p.title}</td>
                  <td>${p.duration}</td>
                  <td>${S}</td>
                </tr>`}).join("");return`
            <div class="album">
              <h3>${m.title}</h3>
              <table>
                <thead>${M}</thead>
                <tbody>${j}</tbody>
              </table>
            </div>`}).join("")}</div>`:"<p>Albums information missing</p>";u.innerHTML=`
    <button class="button-close" aria-label="Close">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        <path d="M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
    <h2 class="artist-mod-title">${t.name}</h2>
    ${c?`<img class="artist-image" src="${c}" alt="${t.name}" style="width: 576px; height: 354px;">`:""}
    <div class="artist-info">
      <p><strong>Years active</strong> ${s}</p>
      <p><strong>Sex</strong> ${e}</p>
      <p><strong>Members</strong> ${o}</p>
      <p><strong>Country</strong> ${n}</p>
      <p class="biography"><strong>Biography</strong> ${a}</p>
      <div class="genres">
        <strong>Genres</strong> ${r}
      </div>
    </div>
    <div class="albums">
      <h3>Albums</h3>
      ${d}
    </div>`,u.querySelector(".button-close").addEventListener("click",w),Y()}async function z(t){try{f.style.display="block",u.innerHTML="",F();const e=(await L.get(`https://sound-wave.b.goit.study/api/artists/${t}`)).data;console.log("MODAL artistRaw:",e,"id:",e._id,"name:",e.strArtist||e.name),console.log("MODAL artistRaw.genres:",e.genres,"typeof:",typeof e.genres);let o=e.genres;!o&&typeof e.genres<"u"&&(o=e.genres),console.log("MODAL genres for artist:",o,"typeof:",typeof o,"id:",e._id,"name:",e.strArtist||e.name);const n={name:e.strArtist||e.name||"No name",imageUrl:e.strArtistThumb||e.image||"",yearFormed:e.intFormedYear||e.yearFormed||"",yearDisbanded:e.intDiedYear&&e.intDiedYear!=="null"?e.intDiedYear:"",gender:e.strGender||e.gender||"",membersCount:e.intMembers||e.membersCount||"",country:e.strCountry||e.country||"",biography:e.strBiographyEN||e.bio||"",genres:o,albums:[]};console.log("MODAL artist.genres before modal:",n.genres,"typeof:",typeof n.genres,"id:",e._id,"name:",e.strArtist||e.name);let a=[];if(e.albumsList&&Array.isArray(e.albumsList))a=e.albumsList;else{const r=(await L.get(`https://sound-wave.b.goit.study/api/artists/${t}/albums`)).data;console.log("allAlbums:",r),Array.isArray(r)?a=r:r&&Array.isArray(r.albums)?a=r.albums:r&&Array.isArray(r.albumsList)?a=r.albumsList:r&&Array.isArray(r.results)?a=r.results:(console.warn("Unknown albums structure:",r),a=[])}console.log("albumsArray:",a),n.albums=a.map(i=>({title:i.strAlbum||i.title||"No title",tracks:Array.isArray(i.tracks)?i.tracks.map(r=>({title:r.strTrack||r.title||"No title",duration:r.intDuration?Math.floor(r.intDuration/6e4)+":"+String(Math.floor(r.intDuration%6e4/1e3)).padStart(2,"0"):"",youtubeUrl:r.movie&&r.movie!=="null"?r.movie:""})):[]})),x(n)}catch(s){u.innerHTML="<p>Помилка завантаження даних</p>",console.error(s)}finally{f.style.display="none"}}const I=document.querySelector(".artists-grid");I&&I.addEventListener("click",t=>{const s=t.target.closest(".learn-more");if(!s)return;const e=s.closest(".artist-card");if(!e)return;const o=e.dataset.id;z(o)});g.addEventListener("click",t=>{t.target===g&&w()});window.addEventListener("keydown",t=>{t.key==="Escape"&&w()});const H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVQ7UsMwEN1dh9D6Bjg3CDVFBA1tOAHDCYiHCdAldExgxgkcgHAEOmjAFS2+AeYGrjNEYpU4HmPFtvi8GY+l1dvV7tNKABboi9vjs72bwIaLdYSeCLwm0rseSyV3r0M/rOIT1GCTnEG2O0G3jo+22aVIZkq2xqGfwG8y3AAQBZPbJOhV+VQGRKSBYVR0WOnDZblNzkTx7vqjxd/ZYjE8BCVK/CKlMEKYf0iWgXVL2Df+5K/BGr0xwdNirgTlQFCDNqJq6wIp8wHgxBJSSj7AfwHlxHmNnx53vH1kwQT8BSgvRs/+MGubExF0HaQ7HrrwMyRcpX8V+tNF3PzKOfedRHrhoWcXC2IOdsDBopXhW9tchn48593AFsvMorzJ6EO0z07D4BoBiZwOWALNm7TmpqjSZjapSJ3KgHxruFmNU471s8XiH+lxYc3tL30yNAoTkZsmLPpkBjDOvS7TUxEMIXfH07LXnzKl2SlQISm5PQr9YfGp0jZea/Fm90sulD5lkJbtgSXWcb8AOwmLEyrUuDIAAAAASUVORK5CYII=",U="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADuSURBVHgBrZOBEYIwDEVTJsAJ7AhsYN2AEXAC2UA28NzAFZzAFdwAnEA2qImEEwJXwpV397lS0t9QPgAKvPdn1BW2AI2s/+OW6hNY5jIY5xCD6I74oFKI6NCJezIrIaLD2k+pQ2sMv4Lj3XvtURamHfa8WG9Uy2pIhne0sA0tneEDtuP2u2KXlY+nGlnjRM6xWAutKWb79V3u6hVmVJsFD4E71TL5c+aCbUGP1RgeQI+TE0ZO0CFDF24NrTFmN5xIhFk2Y9agjqgTj4ekwY+CD0sRB8pnKmpkZsuQYV/8pAgF6ihed64tIETISFP7BVsQmECc0IB0AAAAAElFTkSuQmCC";function C(t){return Math.round(t)}function V(t){return t.map(s=>({...s,roundedRating:C(s.rating)}))}console.log(C);const q=async(t=3)=>{try{const s=await O(),e=[],o=new Set;for(;e.length<t&&o.size<s.length;){const n=Math.floor(Math.random()*s.length);o.has(n)||(o.add(n),e.push(s[n]))}return e}catch(s){return console.error("Не вдалося отримати відгуки:",s),[]}};document.addEventListener("DOMContentLoaded",()=>{(async()=>{try{const t=await q(3),s=V(t),e=document.querySelector(".swiper-wrapper");e.innerHTML="",s.forEach((n,a)=>{const{name:i,descr:r,roundedRating:c}=n,d=document.createElement("div");d.className="swiper-slide",d.innerHTML=`
          <div class="feedback-card">
            <div class="rating" data-score="${c}"></div>
            <p class="feedback_description">${r}</p>
            <h3 class="feedback_name">${i}</h3>
          </div>
        `,e.appendChild(d)}),new R(".swiper",{direction:"horizontal",loop:!1,modules:[P,D],pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},simulateTouch:!0,grabCursor:!0,keyboard:{enabled:!0,pageUpDown:!0,onlyInViewport:!0},mousewheel:{eventsTarget:".swiper"}}),document.querySelectorAll(".rating").forEach(n=>{const a=parseInt(n.dataset.score,10);new N(n,{starOn:H,starOff:U,score:a,readOnly:!0}).init()})}catch(t){console.error("Помилка під час обробки відгуків:",t)}})()});const G=document.querySelector("[data-header-open]"),h=document.querySelector("[data-menu]"),Q=document.querySelector("[data-menu-close]"),_=document.querySelectorAll(".mob-nav-link");G.addEventListener("click",B);Q.addEventListener("click",B);function B(){h.classList.toggle("is-open")}document.addEventListener("keydown",K);function K(t){t.key==="Escape"&&h.classList.contains("is-open")&&h.classList.remove("is-open")}_.forEach(t=>{t.addEventListener("click",s=>{s.preventDefault();const e=t.getAttribute("href").substring(1),o=document.getElementById(e);o&&(h.classList.remove("is-open"),document.body.style.overflow="",o.scrollIntoView({behavior:"smooth"}))})});
//# sourceMappingURL=index.js.map
